"use strict";(globalThis.webpackChunkd=globalThis.webpackChunkd||[]).push([["902"],{525:function(e,t,n){let r;function s(e){return{lang:(null==e?void 0:e.lang)??void 0,message:null==e?void 0:e.message,abortEarly:(null==e?void 0:e.abortEarly)??void 0,abortPipeEarly:(null==e?void 0:e.abortPipeEarly)??void 0}}function a(e,t,n,r,s){var a,i;let o=s&&"input"in s?s.input:n.value,u=(null==s?void 0:s.expected)??e.expects??null,l=(null==s?void 0:s.received)??function(e){var t,n;let r=typeof e;return"string"===r?`"${e}"`:"number"===r||"bigint"===r||"boolean"===r?`${e}`:"object"===r||"function"===r?(e&&(null==(n=null==(t=Object.getPrototypeOf(e))?void 0:t.constructor)?void 0:n.name))??"null":r}(o),c={kind:e.kind,type:e.type,input:o,expected:u,received:l,message:`Invalid ${t}: ${u?`Expected ${u} but r`:"R"}eceived ${l}`,requirement:e.requirement,path:null==s?void 0:s.path,issues:null==s?void 0:s.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},p="schema"===e.kind,d=(null==s?void 0:s.message)??e.message??(a=e.reference,void(i=c.lang))??(p?void c.lang:null)??r.message??void c.lang;d&&(c.message="function"==typeof d?d(c):d),p&&(n.typed=!1),n.issues?n.issues.push(c):n.issues=[c]}function i(e){return{version:1,vendor:"valibot",validate:t=>e["~run"]({value:t},s())}}n.d(t,{FBj:()=>rf,Pjo:()=>oE,Rwq:()=>tZ,S1n:()=>un,U9s:()=>ti,VwX:()=>az,Y6U:()=>eF,ewE:()=>e9,on:()=>em,wue:()=>iC}),n(294);var o,u=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function l(e,t,n){return"function"==typeof e.default?e.default(t,n):e.default}function c(e,t){return!e["~run"]({value:t},{abortEarly:!0}).issues}function p(e){return{kind:"schema",type:"boolean",reference:p,expects:"boolean",async:!1,message:e,get"~standard"(){return i(this)},"~run"(e,t){return"boolean"==typeof e.value?e.typed=!0:a(this,"type",e,t),e}}}function d(e){return{kind:"schema",type:"function",reference:d,expects:"Function",async:!1,message:e,get"~standard"(){return i(this)},"~run"(e,t){return"function"==typeof e.value?e.typed=!0:a(this,"type",e,t),e}}}function f(e,t){return{kind:"schema",type:"loose_object",reference:f,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return i(this)},"~run"(e,t){var n;let r=e.value;if(r&&"object"==typeof r){for(let s in e.typed=!0,e.value={},this.entries){let i=this.entries[s];if(s in r||("exact_optional"===i.type||"optional"===i.type||"nullish"===i.type)&&void 0!==i.default){let a=s in r?r[s]:l(i),o=i["~run"]({value:a},t);if(o.issues){let i={type:"object",origin:"value",input:r,key:s,value:a};for(let t of o.issues)t.path?t.path.unshift(i):t.path=[i],null==(n=e.issues)||n.push(t);if(e.issues||(e.issues=o.issues),t.abortEarly){e.typed=!1;break}}o.typed||(e.typed=!1),e.value[s]=o.value}else if("exact_optional"!==i.type&&"optional"!==i.type&&"nullish"!==i.type&&(a(this,"key",e,t,{input:void 0,expected:`"${s}"`,path:[{type:"object",origin:"key",input:r,key:s,value:r[s]}]}),t.abortEarly))break}if(!e.issues||!t.abortEarly)for(let t in r)!Object.hasOwn(r,t)||"__proto__"===t||"prototype"===t||"constructor"===t||t in this.entries||(e.value[t]=r[t])}else a(this,"type",e,t);return e}}}function h(e,t){return{kind:"schema",type:"nullish",reference:h,expects:`(${e.expects} | null | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return i(this)},"~run"(e,t){return(null===e.value||void 0===e.value)&&(void 0!==this.default&&(e.value=l(this,e,t)),null===e.value||void 0===e.value)?(e.typed=!0,e):this.wrapped["~run"](e,t)}}}function y(e){return{kind:"schema",type:"number",reference:y,expects:"number",async:!1,message:e,get"~standard"(){return i(this)},"~run"(e,t){return"number"!=typeof e.value||isNaN(e.value)?a(this,"type",e,t):e.typed=!0,e}}}function b(e,t){return{kind:"schema",type:"optional",reference:b,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return i(this)},"~run"(e,t){return void 0===e.value&&(void 0!==this.default&&(e.value=l(this,e,t)),void 0===e.value)?(e.typed=!0,e):this.wrapped["~run"](e,t)}}}function _(e){return{kind:"schema",type:"string",reference:_,expects:"string",async:!1,message:e,get"~standard"(){return i(this)},"~run"(e,t){return"string"==typeof e.value?e.typed=!0:a(this,"type",e,t),e}}}function v(e,t,n){let r=e["~run"]({value:t},s(n));if(r.issues)throw new u(r.issues);return r.value}function g(e){return c(f({TelegramWebviewProxy:f({postEvent:d()})}),e)}var m=Object.defineProperty,w=(e,t,n)=>t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,k=(e,t,n)=>w(e,"symbol"!=typeof t?t+"":t,n);function x(e,t){t||(t=[]);class n extends Error{constructor(...n){super(..."function"==typeof t?t(...n):"string"==typeof t?[t]:t||[]),this.name=e}}return Object.defineProperty(n,"name",{value:e}),[n,e=>e instanceof n]}let[E,A]=x("CancelledError","Promise was canceled"),[C,S]=x("TimeoutError",(e,t)=>[`Timeout reached: ${e}ms`,{cause:t}]),j=Symbol("Resolved");function $(e){return Array.isArray(e)&&e[0]===j}function q(e,t){return e.reject=t.reject,e.abort=t.abort,e}let P=class e extends Promise{constructor(e,t){let n,r;super((s,a)=>{let i,o;"function"==typeof e?(i=e,o=t):o=e;let u=[],l=e=>(...t)=>{let n=e(...t);return u.forEach(e=>e()),n},c=new AbortController,{signal:p}=c;r=e=>{p.aborted||c.abort(e)};let d=()=>p.reason,f=e=>{let t=()=>{e(d())};p.addEventListener("abort",t,!0);let n=()=>{p.removeEventListener("abort",t,!0)};return u.push(n),n},h=l(e=>{s(e),r([j,e])});n=l(e=>{a(e),r(e)}),o||(o={});let{abortSignal:y,rejectOnAbort:b=!0}=o;if(y){if(y.aborted){let{reason:e}=y;if(b)return n(e);r(e)}else{let e=()=>{r(y.reason)};y.addEventListener("abort",e),u.push(()=>{y.removeEventListener("abort",e)})}}b&&f(a);let{timeout:_}=o;if(_){let e=setTimeout(()=>{r(new C(_))},_);u.push(()=>{clearTimeout(e)})}let v=()=>p.aborted,g=()=>$(d()),m=()=>{let e=d();return $(e)?e[1]:void 0};try{let e=i&&i(h,n,{abortReason:d,abortSignal:p,isAborted:v,isResolved:g,onAborted:f,onResolved:e=>f(()=>{g()&&e(m())}),resolved:m,throwIfAborted(){if(v())throw d()}});e instanceof Promise&&e.catch(n)}catch(e){n(e)}}),k(this,"abort"),k(this,"reject"),this.abort=r,this.reject=n}static fn(t,n){return new e(async(e,n,r)=>{try{e(await t(r))}catch(e){n(e)}},n)}static resolve(e){return this.fn(()=>e)}static reject(t){return new e((e,n)=>{n(t)})}cancel(){this.abort(new E)}catch(e){return this.then(void 0,e)}finally(e){return q(super.finally(e),this)}then(e,t){return q(super.then(e,t),this)}};function I(e){return`tapps/${e}`}function O(e){return{lang:(null==e?void 0:e.lang)??void 0,message:null==e?void 0:e.message,abortEarly:(null==e?void 0:e.abortEarly)??void 0,abortPipeEarly:(null==e?void 0:e.abortPipeEarly)??void 0}}function T(e,t,n,r,s){var a,i;let o=s&&"input"in s?s.input:n.value,u=(null==s?void 0:s.expected)??e.expects??null,l=(null==s?void 0:s.received)??function(e){var t,n;let r=typeof e;return"string"===r?`"${e}"`:"number"===r||"bigint"===r||"boolean"===r?`${e}`:"object"===r||"function"===r?(e&&(null==(n=null==(t=Object.getPrototypeOf(e))?void 0:t.constructor)?void 0:n.name))??"null":r}(o),c={kind:e.kind,type:e.type,input:o,expected:u,received:l,message:`Invalid ${t}: ${u?`Expected ${u} but r`:"R"}eceived ${l}`,requirement:e.requirement,path:null==s?void 0:s.path,issues:null==s?void 0:s.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},p="schema"===e.kind,d=(null==s?void 0:s.message)??e.message??(a=e.reference,void(i=c.lang))??(p?void c.lang:null)??r.message??void c.lang;d&&(c.message="function"==typeof d?d(c):d),p&&(n.typed=!1),n.issues?n.issues.push(c):n.issues=[c]}function B(e){return{version:1,vendor:"valibot",validate:t=>e["~run"]({value:t},O())}}function L(e,t){return Object.hasOwn(e,t)&&"__proto__"!==t&&"prototype"!==t&&"constructor"!==t}var R=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function D(e){return{kind:"transformation",type:"transform",reference:D,async:!1,operation:e,"~run"(e){return e.value=this.operation(e.value),e}}}function V(e,t,n){return"function"==typeof e.default?e.default(t,n):e.default}function M(e){return{kind:"schema",type:"boolean",reference:M,expects:"boolean",async:!1,message:e,get"~standard"(){return B(this)},"~run"(e,t){return"boolean"==typeof e.value?e.typed=!0:T(this,"type",e,t),e}}}function N(e){return{kind:"schema",type:"lazy",reference:N,expects:"unknown",async:!1,getter:e,get"~standard"(){return B(this)},"~run"(e,t){return this.getter(e.value)["~run"](e,t)}}}function W(e,t){return{kind:"schema",type:"loose_object",reference:W,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return B(this)},"~run"(e,t){var n;let r=e.value;if(r&&"object"==typeof r){for(let s in e.typed=!0,e.value={},this.entries){let a=this.entries[s];if(s in r||("exact_optional"===a.type||"optional"===a.type||"nullish"===a.type)&&void 0!==a.default){let i=s in r?r[s]:V(a),o=a["~run"]({value:i},t);if(o.issues){let a={type:"object",origin:"value",input:r,key:s,value:i};for(let t of o.issues)t.path?t.path.unshift(a):t.path=[a],null==(n=e.issues)||n.push(t);if(e.issues||(e.issues=o.issues),t.abortEarly){e.typed=!1;break}}o.typed||(e.typed=!1),e.value[s]=o.value}else if("exact_optional"!==a.type&&"optional"!==a.type&&"nullish"!==a.type&&(T(this,"key",e,t,{input:void 0,expected:`"${s}"`,path:[{type:"object",origin:"key",input:r,key:s,value:r[s]}]}),t.abortEarly))break}if(!e.issues||!t.abortEarly)for(let t in r)!L(r,t)||t in this.entries||(e.value[t]=r[t])}else T(this,"type",e,t);return e}}}function U(e){return{kind:"schema",type:"number",reference:U,expects:"number",async:!1,message:e,get"~standard"(){return B(this)},"~run"(e,t){return"number"!=typeof e.value||isNaN(e.value)?T(this,"type",e,t):e.typed=!0,e}}}function F(e,t){return{kind:"schema",type:"optional",reference:F,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return B(this)},"~run"(e,t){return void 0===e.value&&(void 0!==this.default&&(e.value=V(this,e,t)),void 0===e.value)?(e.typed=!0,e):this.wrapped["~run"](e,t)}}}function z(e){return{kind:"schema",type:"string",reference:z,expects:"string",async:!1,message:e,get"~standard"(){return B(this)},"~run"(e,t){return"string"==typeof e.value?e.typed=!0:T(this,"type",e,t),e}}}function G(e){let t;if(e)for(let n of e)t?t.push(...n.issues):t=n.issues;return t}function H(e,t,n){let r=e["~run"]({value:t},O(n));if(r.issues)throw new R(r.issues);return r.value}function J(...e){return{...e[0],pipe:e,get"~standard"(){return B(this)},"~run"(t,n){for(let r of e)if("metadata"!==r.kind){if(t.issues&&("schema"===r.kind||"transformation"===r.kind)){t.typed=!1;break}t.issues&&(n.abortEarly||n.abortPipeEarly)||(t=r["~run"](t,n))}return t}}}function K(e){return D(t=>e?function e(t){let n=Object.entries(t).reduce((e,[t,n])=>(e[t.replace(/_[a-z]/g,e=>e[1].toUpperCase())]=n,e),{});for(let t in n){let r=n[t];!r||"object"!=typeof r||r instanceof Date||(n[t]=Array.isArray(r)?r.map(e):e(r))}return n}(t):t)}function Z(e){return t=>J(e,K(t))}function Y(){return D(JSON.parse)}function Q(e){let t=Z(e);return e=>J(z(),Y(),t(e))}function X(e){return t=>J(function e(t,n){return{kind:"schema",type:"union",reference:e,expects:function(e,t){let n=[...new Set(e)];return n.length>1?`(${n.join(" | ")})`:n[0]??"never"}(t.map(e=>e.expects),0),async:!1,options:t,message:n,get"~standard"(){return B(this)},"~run"(e,t){let n,r,s;for(let a of this.options){let i=a["~run"]({value:e.value},t);if(i.typed){if(i.issues)r?r.push(i):r=[i];else{n=i;break}}else s?s.push(i):s=[i]}if(n)return n;if(r){if(1===r.length)return r[0];T(this,"type",e,t,{issues:G(r)}),e.typed=!0}else{if((null==s?void 0:s.length)===1)return s[0];T(this,"type",e,t,{issues:G(s)})}return e}}}([z(),function e(t,n){return{kind:"schema",type:"instance",reference:e,expects:t.name,async:!1,class:t,message:n,get"~standard"(){return B(this)},"~run"(e,t){return e.value instanceof this.class?e.typed=!0:T(this,"type",e,t),e}}}(URLSearchParams)]),D(t=>{let n={};return new URLSearchParams(t).forEach((e,t)=>{let r=n[t];Array.isArray(r)?r.push(e):void 0===r?n[t]=e:n[t]=[r,e]}),H(e,n)}),K(t))}let ee=F(N(()=>ea())),et=W({id:U(),photo_url:F(z()),type:z(),title:z(),username:F(z())}),en=W({added_to_attachment_menu:F(M()),allows_write_to_pm:F(M()),first_name:z(),id:U(),is_bot:F(M()),is_premium:F(M()),last_name:F(z()),language_code:F(z()),photo_url:F(z()),username:F(z())}),er=W({auth_date:J(z(),D(e=>new Date(1e3*Number(e))),function e(t){return{kind:"schema",type:"date",reference:e,expects:"Date",async:!1,message:t,get"~standard"(){return B(this)},"~run"(e,t){return e.value instanceof Date?isNaN(e.value)?T(this,"type",e,t,{received:'"Invalid Date"'}):e.typed=!0:T(this,"type",e,t),e}}}()),can_send_after:F(J(z(),D(Number),function e(t){return{kind:"validation",type:"integer",reference:e,async:!1,expects:null,requirement:Number.isInteger,message:t,"~run"(e,t){return e.typed&&!this.requirement(e.value)&&T(this,"integer",e,t),e}}}())),chat:F(N(()=>es())),chat_type:F(z()),chat_instance:F(z()),hash:z(),query_id:F(z()),receiver:ee,start_param:F(z()),signature:z(),user:ee}),es=Q(et),ea=Q(en),ei=X(er),eo=Z(function e(t,n,r){return{kind:"schema",type:"record",reference:e,expects:"Object",async:!1,key:t,value:n,message:r,get"~standard"(){return B(this)},"~run"(e,t){var n,r;let s=e.value;if(s&&"object"==typeof s){for(let a in e.typed=!0,e.value={},s)if(L(s,a)){let i=s[a],o=this.key["~run"]({value:a},t);if(o.issues){let r={type:"object",origin:"key",input:s,key:a,value:i};for(let t of o.issues)t.path=[r],null==(n=e.issues)||n.push(t);if(e.issues||(e.issues=o.issues),t.abortEarly){e.typed=!1;break}}let u=this.value["~run"]({value:i},t);if(u.issues){let n={type:"object",origin:"value",input:s,key:a,value:i};for(let t of u.issues)t.path?t.path.unshift(n):t.path=[n],null==(r=e.issues)||r.push(t);if(e.issues||(e.issues=u.issues),t.abortEarly){e.typed=!1;break}}o.typed&&u.typed||(e.typed=!1),o.typed&&(e.value[o.value]=u.value)}}else T(this,"type",e,t);return e}}}(z(),J(z(),function e(t,n){return{kind:"validation",type:"check",reference:e,async:!1,expects:null,requirement:t,message:n,"~run"(e,t){return e.typed&&!this.requirement(e.value)&&T(this,"input",e,t),e}}}(function(e){return/^#[\da-f]{6}$/i.test(e)}),D(e=>e)))),eu=F(J(z(),D(e=>"1"===e))),el=Q(eo()),ec=X(W({tgWebAppBotInline:eu,tgWebAppData:F(ei()),tgWebAppDefaultColors:F(el()),tgWebAppFullscreen:eu,tgWebAppPlatform:z(),tgWebAppShowSettings:eu,tgWebAppStartParam:F(z()),tgWebAppThemeParams:el(),tgWebAppVersion:z()})),ep=(o=ec(),(e,t)=>H(J(o,K(t)),e)),ed=W({eventType:z(),eventData:F(function e(){return{kind:"schema",type:"unknown",reference:e,expects:"unknown",async:!1,get"~standard"(){return B(this)},"~run":e=>(e.typed=!0,e)}}())});function ef(e,t){window.dispatchEvent(new MessageEvent("message",{data:JSON.stringify({eventType:e,eventData:t}),source:window.parent}))}let eh=!1,[ey,eb]=function(e,t){t||(t={});let{textColor:n,bgColor:r,shouldLog:s}=t,a=void 0===s||s,i="boolean"==typeof a?()=>a:a;function o(t,s,...a){if(s||i()){let s="font-weight:bold;padding:0 5px;border-radius:5px";console[t](`%c${Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(new Date)}%c / %c${e}`,`${s};background-color: lightblue;color:black`,"",`${s};${n?`color:${n};`:""}${r?`background-color:${r}`:""}`,...a)}}return[o.bind(void 0,"log"),o.bind(void 0,"error")]}("Bridge",{bgColor:"#9147ff",textColor:"white",shouldLog:()=>eh}),e_=e=>{ey(!1,"Event received:",e)},ev={clipboard_text_received:f({req_id:_(),data:h(_())}),custom_method_invoked:f({req_id:_(),result:b(function e(){return{kind:"schema",type:"unknown",reference:e,expects:"unknown",async:!1,get"~standard"(){return i(this)},"~run":e=>(e.typed=!0,e)}}()),error:b(_())}),popup_closed:h(f({button_id:h(_(),()=>{})}),{}),viewport_changed:f({height:y(),width:h(y(),()=>window.innerWidth),is_state_stable:p(),is_expanded:p()})};function eg(e){let t;if(e.source!==window.parent)return;try{t=v(function(...e){return{...e[0],pipe:e,get"~standard"(){return i(this)},"~run"(t,n){for(let r of e)if("metadata"!==r.kind){if(t.issues&&("schema"===r.kind||"transformation"===r.kind)){t.typed=!1;break}t.issues&&(n.abortEarly||n.abortPipeEarly)||(t=r["~run"](t,n))}return t}}}(_(),Y(),ed),e.data)}catch{return}let{eventType:n,eventData:r}=t,s=ev[n];try{let e=s?v(s,r):r;ek(n,e)}catch(e){eb(!0,[`An error occurred processing the "${n}" event from the Telegram application.`,"Please, file an issue here:","https://github.com/Telegram-Mini-Apps/telegram-apps/issues/new/choose"].join(`
`),t,e)}}let[em,ew,ek,ex]=function(e,t){var n;let r={all:n=n||new Map,on:function(e,t){var r=n.get(e);r?r.push(t):n.set(e,[t])},off:function(e,t){var r=n.get(e);r&&(t?r.splice(r.indexOf(t)>>>0,1):n.set(e,[]))},emit:function(e,t){var r=n.get(e);r&&r.slice().map(function(e){e(t)}),(r=n.get("*"))&&r.slice().map(function(n){n(e,t)})}},s=new Map,a=(e,n,a)=>{a||(a=!1);let i=s.get(e)||new Map;s.set(e,i);let o=i.get(n)||[];i.set(n,o);let u=o.findIndex(e=>e[1]===a);u>=0&&(r.off(e,o[u][0]),o.splice(u,1),o.length||i.delete(n),i.size||(s.delete(e),s.size||t()))};return[function(t,n,i){function o(){a(t,n,i)}function u(...e){i&&o(),"*"===t?n(e):n(...e)}s.size||e(),r.on(t,u);let l=s.get(t)||new Map;s.set(t,l);let c=l.get(n)||[];return l.set(n,c),c.push([u,i||!1]),o},a,r.emit,function(){let e=r.all.size;r.all.clear(),s.clear(),e&&t()}]}(()=>{let e=window,t={receiveEvent:ef};e.TelegramGameProxy_receiveEvent=ef,e.TelegramGameProxy=t,e.Telegram={WebView:t},window.addEventListener("message",eg)},()=>{["TelegramGameProxy_receiveEvent","TelegramGameProxy","Telegram"].forEach(e=>{delete window[e]}),window.removeEventListener("message",eg)});function eE(e,t){t||(t=[]);class n extends Error{constructor(...n){super(..."function"==typeof t?t(...n):"string"==typeof t?[t]:t||[]),this.name=e}}return Object.defineProperty(n,"name",{value:e}),[n,e=>e instanceof n]}let[eA,eC]=eE("MethodUnsupportedError",(e,t)=>[`Method "${e}" is unsupported in Mini Apps version ${t}`]),[eS,ej]=eE("MethodParameterUnsupportedError",(e,t,n)=>[`Parameter "${t}" of "${e}" method is unsupported in Mini Apps version ${n}`]),[e$,eq]=eE("LaunchParamsRetrieveError",["Unable to retrieve launch parameters from any known source. Perhaps, you have opened your app outside Telegram?","\uD83D\uDCD6 Refer to docs for more information:","https://docs.telegram-mini-apps.com/packages/telegram-apps-bridge/environment"].join(`
`)),[eP,eI]=eE("InvalidLaunchParamsError",e=>[`Invalid value for launch params: ${e}`]),[eO,eT]=eE("UnknownEnvError"),[eB,eL]=eE("InvokeCustomMethodError",e=>[`Server returned error: ${e}`]),eR=[],eD=function(e,t){t||(t={});let n=t.equals||Object.is,r=[],s=e,a=e=>{if(!n(s,e)){let t=s;s=e,[...r].forEach(([n,r])=>{n(e,t),r&&o(n,!0)})}};function i(e){let t="object"!=typeof e?{once:e}:e;return{once:t.once||!1,signal:t.signal||!1}}let o=(e,t)=>{let n=i(t),s=r.findIndex(([t,r])=>t===e&&r.once===n.once&&r.signal===n.signal);s>=0&&r.splice(s,1)},u=Object.assign(function(){var e;return e=u,eR.length&&eR[eR.length-1].add(e),s},{destroy(){r=[]},set:a,reset(){a(e)},sub:(e,t)=>(r.push([e,i(t)]),()=>o(e,t)),unsub:o,unsubAll(){r=r.filter(e=>e[1].signal)}});return u}("https://web.telegram.org");function eV(e,t){ey(!1,"Posting event:",t?{eventType:e,eventData:t}:{eventType:e});let n=window,r=JSON.stringify({eventType:e,eventData:t});if(function(){try{return window.self!==window.top}catch{return!0}}())return n.parent.postMessage(r,eD());if(g(n)){n.TelegramWebviewProxy.postEvent(e,JSON.stringify(t));return}if(c(f({external:f({notify:d()})}),n)){n.external.notify(r);return}throw new eO}function eM(e,t,n){n||(n={});let{capture:r}=n,[s,a]=function(){let e=[].flat(1);return[e.push.bind(e),()=>{e.forEach(e=>{e()})}]}();return new P(a=>{(Array.isArray(t)?t:[t]).forEach(e=>{s(em(e,n=>{(!r||(Array.isArray(t)?r({event:e,payload:n}):r(n)))&&a(n)}))}),(n.postEvent||eV)(e,n.params)},n).finally(a)}let eN="launchParams";function eW(e){return e.replace(/^[^?#]*[?#]/,"").replace(/[?#]/g,"&")}function eU(){for(let e of[()=>eW(window.location.href),()=>{let e=performance.getEntriesByType("navigation")[0];return e&&eW(e.name)},()=>(function(e){let t=sessionStorage.getItem(I(e));try{return t?JSON.parse(t):void 0}catch{}})(eN)]){let t=e();if(t&&function(e){try{return!ec()["~run"]({value:e},{abortEarly:!0}).issues}catch{return!1}}(t))return sessionStorage.setItem(I(eN),JSON.stringify(t)),t}throw new e$}function eF(e){let t=ep(eU());return e?function e(t){let n=Object.entries(t).reduce((e,[t,n])=>(e[t.replace(/_[a-z]/g,e=>e[1].toUpperCase())]=n,e),{});for(let t in n){let r=n[t];!r||"object"!=typeof r||r instanceof Date||(n[t]=Array.isArray(r)?r.map(e):e(r))}return n}(t):t}function ez(e,t){if(!e)try{return eF(),!0}catch{return!1}return P.fn(async e=>{if(g(window))return!0;try{return await eM("web_app_request_theme","theme_changed",e),!0}catch{return!1}},t||{timeout:100})}function eG(e){return e.split(".").map(Number)}function eH(e,t){return 0>=function(e,t){let n=eG(e),r=eG(t),s=Math.max(n.length,r.length);for(let e=0;e<s;e+=1){let t=n[e]||0,s=r[e]||0;if(t!==s)return t>s?1:-1}return 0}(e,t)}function eJ(e,t,n){if("string"==typeof n){if("web_app_open_link"===e){if("try_instant_view"===t)return eH("6.4",n);if("try_browser"===t)return eH("7.6",n)}if("web_app_set_header_color"===e&&"color"===t)return eH("6.9",n);if("web_app_close"===e&&"return_back"===t)return eH("7.6",n);if("web_app_setup_main_button"===e&&"has_shine_effect"===t)return eH("7.10",n)}switch(e){case"web_app_open_tg_link":case"web_app_open_invoice":case"web_app_setup_back_button":case"web_app_set_background_color":case"web_app_set_header_color":case"web_app_trigger_haptic_feedback":return eH("6.1",t);case"web_app_open_popup":return eH("6.2",t);case"web_app_close_scan_qr_popup":case"web_app_open_scan_qr_popup":case"web_app_read_text_from_clipboard":return eH("6.4",t);case"web_app_switch_inline_query":return eH("6.7",t);case"web_app_invoke_custom_method":case"web_app_request_write_access":case"web_app_request_phone":return eH("6.9",t);case"web_app_setup_settings_button":return eH("6.10",t);case"web_app_biometry_get_info":case"web_app_biometry_open_settings":case"web_app_biometry_request_access":case"web_app_biometry_request_auth":case"web_app_biometry_update_token":return eH("7.2",t);case"web_app_setup_swipe_behavior":return eH("7.7",t);case"web_app_share_to_story":return eH("7.8",t);case"web_app_setup_secondary_button":case"web_app_set_bottom_bar_color":return eH("7.10",t);case"web_app_request_safe_area":case"web_app_request_content_safe_area":case"web_app_request_fullscreen":case"web_app_exit_fullscreen":case"web_app_set_emoji_status":case"web_app_add_to_home_screen":case"web_app_check_home_screen":case"web_app_request_emoji_status_access":case"web_app_check_location":case"web_app_open_location_settings":case"web_app_request_file_download":case"web_app_request_location":case"web_app_send_prepared_message":case"web_app_start_accelerometer":case"web_app_start_device_orientation":case"web_app_start_gyroscope":case"web_app_stop_accelerometer":case"web_app_stop_device_orientation":case"web_app_stop_gyroscope":case"web_app_toggle_orientation_lock":return eH("8.0",t);default:return["iframe_ready","iframe_will_reload","web_app_close","web_app_data_send","web_app_expand","web_app_open_link","web_app_ready","web_app_request_theme","web_app_request_viewport","web_app_setup_main_button","web_app_setup_closing_behavior"].includes(e)}}function eK(e){return e.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}function eZ(e){return`tapps/${e}`}function eY(e,t){sessionStorage.setItem(eZ(e),JSON.stringify(t))}function eQ(e){let t=sessionStorage.getItem(eZ(e));try{return t?JSON.parse(t):void 0}catch{}}function eX(...e){let t=e.flat(1);return[t.push.bind(t),()=>{t.forEach(e=>{e()})}]}function e0(){let e=performance.getEntriesByType("navigation")[0];return!!e&&"reload"===e.type}function e1(e){if(r)return e();r=new Map;try{e()}finally{r.forEach(e=>e()),r=void 0}}function e2(e,t){t||(t={});let n=t.equals||Object.is,s=[],a=e,i=e=>{if(!n(a,e)){var t;let n=a;a=e,t=()=>{[...s].forEach(([t,r])=>{t(e,n),r&&u(t,!0)})},r&&r.set(l,t)||t()}};function o(e){let t="object"!=typeof e?{once:e}:e;return{once:t.once||!1,signal:t.signal||!1}}let u=(e,t)=>{let n=o(t),r=s.findIndex(([t,r])=>t===e&&r.once===n.once&&r.signal===n.signal);r>=0&&s.splice(r,1)},l=Object.assign(function(){var e;return e=l,e6.length&&e6[e6.length-1].add(e),a},{destroy(){s=[]},set:i,reset(){i(e)},sub:(e,t)=>(s.push([e,o(t)]),()=>u(e,t)),unsub:u,unsubAll(){s=s.filter(e=>e[1].signal)}});return l}let e6=[];function e3(e,t){return function(e,t){let n=new Set,r;function s(){return r||(r=e2(i(),t))}function a(){s().set(i())}function i(){let t;n.forEach(e=>{e.unsub(a,{signal:!0})});let r=new Set;e6.push(r);try{t=e()}finally{e6.pop()}return r.forEach(e=>{e.sub(a,{signal:!0})}),n=r,t}return Object.assign(function(){return s()()},{destroy(){s().destroy()},sub:(...e)=>s().sub(...e),unsub(...e){s().unsub(...e)},unsubAll(...e){s().unsubAll(...e)}})}(e,t)}function e5(e,t){let n=e2(e,t);return[n,e3(n)]}let e7=!1,[e4,]=function(e,t){t||(t={});let{textColor:n,bgColor:r,shouldLog:s}=t,a=void 0===s||s,i="boolean"==typeof a?()=>a:a;function o(e,t,...s){if(t||i()){let t="font-weight:bold;padding:0 5px;border-radius:5px";console[e](`%c${Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(new Date)}%c / %cSDK`,`${t};background-color: lightblue;color:black`,"",`${t};${n?`color:${n};`:""}${r?`background-color:${r}`:""}`,...s)}}return[o.bind(void 0,"log"),o.bind(void 0,"error")]}(0,{bgColor:"forestgreen",textColor:"white",shouldLog:()=>e7});function e9(e){e7=e,e!==eh&&((eh=e)?em("*",e_):ew("*",e_))}let e8=e2(0,void 0),te=e2(eV,void 0),[tt,tn]=e5({tgWebAppPlatform:"unknown",tgWebAppVersion:"0.0"}),tr=e3(()=>tn().tgWebAppVersion);function ts(e,t,n){var r;return e8.set(e8()+1),r=e8().toString(),eM("web_app_invoke_custom_method","custom_method_invoked",{...{...n||{},postEvent:ti},params:{method:e,params:t,req_id:r},capture:({req_id:e})=>e===r}).then(({result:e,error:t})=>{if(t)throw new eB(t);return e})}let ta=(e,t,n)=>(n||(n={}),n.postEvent||(n.postEvent=ti),eM(e,t,n)),ti=(e,t)=>te()(e,t);function to(e){return e3(()=>eJ(e,tr()))}function tu(e,t){t||(t=[]);class n extends Error{constructor(...n){super(..."function"==typeof t?t(...n):"string"==typeof t?[t]:t||[]),this.name=e}}return Object.defineProperty(n,"name",{value:e}),[n,e=>e instanceof n]}function tl(e){return[e]}let[tc,tp]=tu("CSSVarsBoundError","CSS variables are already bound"),[td,tf]=tu("NotAvailableError",tl),[th,ty]=tu("InvalidEnvError",tl),[tb,t_]=tu("FunctionNotAvailableError",tl),[tv,tg]=tu("InvalidArgumentsError",(e,t)=>[e,{cause:t}]),[tm,tw]=tu("ConcurrentCallError",tl),[tk,tx]=tu("SetEmojiStatusError",e=>[`Failed to set emoji status: ${e}`]),[tE,tA]=tu("AccessDeniedError",tl),[tC,tS]=tu("FullscreenFailedError",tl),[tj,t$]=tu("ShareMessageError",tl);function tq(){return typeof window>"u"}function tP(e,t,n){let r;n||(n={});let{isSupported:s,isMounted:a,isMounting:i,component:o,supports:u}=n||{},l=`${o?`${o}.`:""}${e}()`,c=s?Array.isArray(s)||"object"==typeof s&&"any"in s?s:[s]:void 0;function p(e){if(u){let t=u[e];return eJ(t[0],t[1],tr())}return!0}function d(){if(!c)return;let e=Array.isArray(c)?c:c.any,t=e.map(function(e){return"function"==typeof e?e():eJ(e,tr())?void 0:`it is unsupported in Mini Apps version ${tr()}`}).filter(Boolean);return Array.isArray(c)?t[0]:t.length===e.length?t[t.length-1]:void 0}if(u)for(let e in r={},u)r[e]=e3(()=>p(e));let f=e3(()=>!d()),h=e3(()=>"0.0"!==tr()),y=e3(()=>!a||a()),b=e3(()=>ez()&&!tq()&&h()&&f()&&y());return Object.assign((...e)=>{let n=`Unable to call the ${l} ${o?"method":"function"}:`;if(tq()||!ez())throw new tb(`${n} it can't be called outside Mini Apps`);if(!h())throw new tb(`${n} the SDK was not initialized. Use the SDK init() function`);let r=d();if(r)throw new tb(`${n} ${r}`);let s=function(...e){for(let t in u)if(u[t][2](...e)&&!p(t))return`option ${t} is not supported in Mini Apps version ${tr()}`}(...e);if(s)throw new tb(`${n} ${s}`);if(!y()){let e=i&&i()?"mounting. Wait for the mount completion":`unmounted. Use the ${o}.mount() method`;throw new tb(`${n} the component is ${e}`)}return t(...e)},t,{isAvailable:b,ifAvailable:(...e)=>b()?[!0,t(...e)]:[!1]},c?{isSupported:f}:{},r?{supports:r}:{})}function tI(e,t){return t||(t={}),(n,r,s,a)=>tP(n,r,{...t,isSupported:s||t.isSupported,supports:a,component:e})}function tO(e,t,n){return tI(e,{isSupported:n,isMounted:t})}function tT(e,t){return tI(e,{isSupported:t})}let tB="web_app_setup_back_button",tL="back_button_pressed",tR="backButton",[tD,tV]=e5(!1),[tM,tN]=e5(!1),tW=to(tB),tU=tO(tR,tM,tB),tF=tT(tR,tB),tz=tU("hide",()=>{tH(!1)}),tG=tF("mount",()=>{tM()||(tH(e0()&&eQ(tR)||!1),tM.set(!0))});function tH(e){e!==tD()&&(ti(tB,{is_visible:e}),eY(tR,e),tD.set(e))}let tJ=tF("onClick",e=>em(tL,e)),tK=tF("offClick",e=>{ew(tL,e)}),tZ=Object.freeze(Object.defineProperty({__proto__:null,hide:tz,isMounted:tN,isSupported:tW,isVisible:tV,mount:tG,offClick:tK,onClick:tJ,show:tU("show",()=>{tH(!0)}),unmount:function(){tM.set(!1)}},Symbol.toStringTag,{value:"Module"}));var tY=Object.defineProperty,tQ=(e,t,n)=>t in e?tY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tX=(e,t,n)=>tQ(e,"symbol"!=typeof t?t+"":t,n);function t0(e,t){t||(t=[]);class n extends Error{constructor(...n){super(..."function"==typeof t?t(...n):"string"==typeof t?[t]:t||[]),this.name=e}}return Object.defineProperty(n,"name",{value:e}),[n,e=>e instanceof n]}let[t1,t2]=t0("CancelledError","Promise was canceled"),[t6,t3]=t0("TimeoutError",(e,t)=>[`Timeout reached: ${e}ms`,{cause:t}]),t5=Symbol("Resolved");function t7(e){return Array.isArray(e)&&e[0]===t5}function t4(e,t){return e.reject=t.reject,e.abort=t.abort,e}let t9=class e extends Promise{constructor(e,t){let n,r;super((s,a)=>{let i,o;"function"==typeof e?(i=e,o=t):o=e;let u=[],l=e=>(...t)=>{let n=e(...t);return u.forEach(e=>e()),n},c=new AbortController,{signal:p}=c;r=e=>{p.aborted||c.abort(e)};let d=()=>p.reason,f=e=>{let t=()=>{e(d())};p.addEventListener("abort",t,!0);let n=()=>{p.removeEventListener("abort",t,!0)};return u.push(n),n},h=l(e=>{s(e),r([t5,e])});n=l(e=>{a(e),r(e)}),o||(o={});let{abortSignal:y,rejectOnAbort:b=!0}=o;if(y){if(y.aborted){let{reason:e}=y;if(b)return n(e);r(e)}else{let e=()=>{r(y.reason)};y.addEventListener("abort",e),u.push(()=>{y.removeEventListener("abort",e)})}}b&&f(a);let{timeout:_}=o;if(_){let e=setTimeout(()=>{r(new t6(_))},_);u.push(()=>{clearTimeout(e)})}let v=()=>p.aborted,g=()=>t7(d()),m=()=>{let e=d();return t7(e)?e[1]:void 0};try{let e=i&&i(h,n,{abortReason:d,abortSignal:p,isAborted:v,isResolved:g,onAborted:f,onResolved:e=>f(()=>{g()&&e(m())}),resolved:m,throwIfAborted(){if(v())throw d()}});e instanceof Promise&&e.catch(n)}catch(e){n(e)}}),tX(this,"abort"),tX(this,"reject"),this.abort=r,this.reject=n}static fn(t,n){return new e(async(e,n,r)=>{try{e(await t(r))}catch(e){n(e)}},n)}static resolve(e){return this.fn(()=>e)}static reject(t){return new e((e,n)=>{n(t)})}cancel(){this.abort(new t1)}catch(e){return this.then(void 0,e)}finally(e){return t4(super.finally(e),this)}then(e,t){return t4(super.then(e,t),this)}};function t8(e,t){return e.resolve=t.resolve,e}let ne=class e extends t9{constructor(e,t){let n,r,s;"function"==typeof e?(n=e,r=t):r=e,super((e,t,r)=>{s=e,n&&n(e,t,r)},r),tX(this,"resolve"),this.resolve=s}static fn(t,n){return new e((e,n,r)=>{try{Promise.resolve(t(r)).then(e,n)}catch(e){n(e)}},n)}static resolve(e){return this.fn(()=>e)}static reject(t){return new e((e,n)=>{n(t)})}catch(e){return this.then(void 0,e)}finally(e){return t8(super.finally(e),this)}then(e,t){return t8(super.then(e,t),this)}};function nt(e,t,n){n||(n={});let{promise:r,error:s}=n,[a,i]=r?[r,e3(r)]:e5(),[o,u]=s?[s,e3(s)]:e5();return[Object.assign((...n)=>{let r;if(a()){let e=new tm(t);return o.set(e),t9.reject(e)}return e1(()=>{a.set(e(...n)),o.set(void 0)}),a().catch(e=>{throw r=e,e}).finally(()=>{e1(()=>{a.set(void 0),o.set(r)})})},e),[a,i,e3(()=>!!a())],[o,u]]}function nn(e,t,n){let[r,...s]=nt(t,`The ${e} component is already mounting`),[a,i]=e5(!1);return[(...e)=>a()?t9.resolve():r(...e).then(e=>{e1(()=>{a.set(!0),n(e)})}),...s,[a,i]]}let[nr,]=e5({available:!1,type:"",accessGranted:!1,accessRequested:!1,deviceId:"",tokenSaved:!1}),ns=(()=>nr().available,"web_app_biometry_get_info"),na=tP("requestBiometry",e=>ta(ns,"biometry_info_received",e),{isSupported:ns});function ni(e){if(!t2(e))throw e}function no(e){let t=e();t&&t.catch(ni).cancel()}let nu="biometry",nl="web_app_biometry_request_auth",nc="biometry_info_received",np=e=>{nR(nf(e))};function nd(){throw new td("Biometry is not available")}function nf(e){let t=!1,n=!1,r="",s=!1,a="",i=!1;return e.available&&(t=!0,n=e.token_saved,r=e.device_id,s=e.access_requested,a=e.type,i=e.access_granted),{available:t,tokenSaved:n,deviceId:r,type:a,accessGranted:i,accessRequested:s}}to(nl);let[nh,ny,nb,n_]=nn(nu,e=>{let t=e0()&&eQ(nu);return t?t9.resolve(t):na({abortSignal:e}).then(nf)},e=>{em(nc,np),nR(e)}),nv=tT(nu,nl),ng=tO(nu,n_[0],nl),[,nm,nw]=(nv("mount",nh),ny),[,nk]=nb,[nx,nE]=n_,[nA,nC,nS]=nt(e=>t9.fn(async t=>{let n=nr();n.available||nd();let r=await ta(nl,"biometry_auth_requested",{...e,...t,params:{reason:((e||{}).reason||"").trim()}}),{token:s}=r;return"string"==typeof s&&nR({...n,token:s}),r},e),"Biometry authentication is already in progress"),[,nj,n$]=(ng("authenticate",nA),nC),[,nq]=nS,[nP,nI,nO]=(nv("openSettings",()=>{ti("web_app_biometry_open_settings")}),nt(e=>t9.fn(async t=>{let n=await ta("web_app_biometry_request_access",nc,{...e,...t,params:{reason:(e||{}).reason||""}}).then(nf);return n.available||nd(),nR(n),n.accessGranted},e),"Biometry access request is already in progress")),[,nT,nB]=(ng("requestAccess",nP),nI),[,nL]=nO;function nR(e){nr.set(e),eY(nu,e)}function nD(e,t){return tI(e,{isMounted:t})}ng("updateToken",e=>(e||(e={}),ta("web_app_biometry_update_token","biometry_token_updated",{...e,params:{token:e.token||"",reason:e.reason}}).then(e=>e.status)));let nV="closingBehavior",[nM,]=e5(!1),[nN,nW]=e5(!1),nU=nD(nV,nW),nF=tI(nV);function nz(e){e!==nM()&&(ti("web_app_setup_closing_behavior",{need_confirmation:e}),eY(nV,e),nM.set(e))}function nG(e){return{lang:(null==e?void 0:e.lang)??void 0,message:null==e?void 0:e.message,abortEarly:(null==e?void 0:e.abortEarly)??void 0,abortPipeEarly:(null==e?void 0:e.abortPipeEarly)??void 0}}function nH(e,t,n,r,s){var a,i;let o=s&&"input"in s?s.input:n.value,u=(null==s?void 0:s.expected)??e.expects??null,l=(null==s?void 0:s.received)??function(e){var t,n;let r=typeof e;return"string"===r?`"${e}"`:"number"===r||"bigint"===r||"boolean"===r?`${e}`:"object"===r||"function"===r?(e&&(null==(n=null==(t=Object.getPrototypeOf(e))?void 0:t.constructor)?void 0:n.name))??"null":r}(o),c={kind:e.kind,type:e.type,input:o,expected:u,received:l,message:`Invalid ${t}: ${u?`Expected ${u} but r`:"R"}eceived ${l}`,requirement:e.requirement,path:null==s?void 0:s.path,issues:null==s?void 0:s.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},p="schema"===e.kind,d=(null==s?void 0:s.message)??e.message??(a=e.reference,void(i=c.lang))??(p?void c.lang:null)??r.message??void c.lang;d&&(c.message="function"==typeof d?d(c):d),p&&(n.typed=!1),n.issues?n.issues.push(c):n.issues=[c]}function nJ(e){return{version:1,vendor:"valibot",validate:t=>e["~run"]({value:t},nG())}}function nK(e,t){return Object.hasOwn(e,t)&&"__proto__"!==t&&"prototype"!==t&&"constructor"!==t}nU("disableConfirmation",()=>{nz(!1)}),nU("enableConfirmation",()=>{nz(!0)}),nF("mount",()=>{nN()||(nz(e0()&&eQ(nV)||!1),nN.set(!0))});var nZ=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function nY(e,t,n){return"function"==typeof e.default?e.default(t,n):e.default}function nQ(e,t){return{kind:"schema",type:"loose_object",reference:nQ,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return nJ(this)},"~run"(e,t){var n;let r=e.value;if(r&&"object"==typeof r){for(let s in e.typed=!0,e.value={},this.entries){let a=this.entries[s];if(s in r||("exact_optional"===a.type||"optional"===a.type||"nullish"===a.type)&&void 0!==a.default){let i=s in r?r[s]:nY(a),o=a["~run"]({value:i},t);if(o.issues){let a={type:"object",origin:"value",input:r,key:s,value:i};for(let t of o.issues)t.path?t.path.unshift(a):t.path=[a],null==(n=e.issues)||n.push(t);if(e.issues||(e.issues=o.issues),t.abortEarly){e.typed=!1;break}}o.typed||(e.typed=!1),e.value[s]=o.value}else if("exact_optional"!==a.type&&"optional"!==a.type&&"nullish"!==a.type&&(nH(this,"key",e,t,{input:void 0,expected:`"${s}"`,path:[{type:"object",origin:"key",input:r,key:s,value:r[s]}]}),t.abortEarly))break}if(!e.issues||!t.abortEarly)for(let t in r)!nK(r,t)||t in this.entries||(e.value[t]=r[t])}else nH(this,"type",e,t);return e}}}function nX(e){return{kind:"schema",type:"string",reference:nX,expects:"string",async:!1,message:e,get"~standard"(){return nJ(this)},"~run"(e,t){return"string"==typeof e.value?e.typed=!0:nH(this,"type",e,t),e}}}function n0(e){let t;if(e)for(let n of e)t?t.push(...n.issues):t=n.issues;return t}function n1(e,t,n){let r=e["~run"]({value:t},nG(n));if(r.issues)throw new nZ(r.issues);return r.value}function n2(...e){return{...e[0],pipe:e,get"~standard"(){return nJ(this)},"~run"(t,n){for(let r of e)if("metadata"!==r.kind){if(t.issues&&("schema"===r.kind||"transformation"===r.kind)){t.typed=!1;break}t.issues&&(n.abortEarly||n.abortPipeEarly)||(t=r["~run"](t,n))}return t}}}let n6="web_app_invoke_custom_method",n3=tT("cloudStorage",n6),n5=(to(n6),n3("deleteItem",(e,t)=>{let n=Array.isArray(e)?e:[e];return n.length?ts("deleteStorageValues",{keys:n},t).then():t9.resolve()})),n7=(n3("getItem",function(e,t){let n=Array.isArray(e)?e:[e];return n.length?ts("getStorageValues",{keys:n},t).then(e=>n1(function e(t,n,r){return{kind:"schema",type:"record",reference:e,expects:"Object",async:!1,key:t,value:n,message:r,get"~standard"(){return nJ(this)},"~run"(e,t){var n,r;let s=e.value;if(s&&"object"==typeof s){for(let a in e.typed=!0,e.value={},s)if(nK(s,a)){let i=s[a],o=this.key["~run"]({value:a},t);if(o.issues){let r={type:"object",origin:"key",input:s,key:a,value:i};for(let t of o.issues)t.path=[r],null==(n=e.issues)||n.push(t);if(e.issues||(e.issues=o.issues),t.abortEarly){e.typed=!1;break}}let u=this.value["~run"]({value:i},t);if(u.issues){let n={type:"object",origin:"value",input:s,key:a,value:i};for(let t of u.issues)t.path?t.path.unshift(n):t.path=[n],null==(r=e.issues)||r.push(t);if(e.issues||(e.issues=u.issues),t.abortEarly){e.typed=!1;break}}o.typed&&u.typed||(e.typed=!1),o.typed&&(e.value[o.value]=u.value)}}else nH(this,"type",e,t);return e}}}(n2(nX(),function e(t,n){return{kind:"validation",type:"check",reference:e,async:!1,expects:null,requirement:t,message:n,"~run"(e,t){return e.typed&&!this.requirement(e.value)&&nH(this,"input",e,t),e}}}(e=>n.includes(e))),nX()),e)):t9.resolve("string"==typeof e?"":{})}),n3("getKeys",e=>ts("getStorageKeys",{},e).then(e=>n1(function e(t,n){return{kind:"schema",type:"array",reference:e,expects:"Array",async:!1,item:t,message:n,get"~standard"(){return nJ(this)},"~run"(e,t){var n;let r=e.value;if(Array.isArray(r)){e.typed=!0,e.value=[];for(let s=0;s<r.length;s++){let a=r[s],i=this.item["~run"]({value:a},t);if(i.issues){let o={type:"array",origin:"value",input:r,key:s,value:a};for(let t of i.issues)t.path?t.path.unshift(o):t.path=[o],null==(n=e.issues)||n.push(t);if(e.issues||(e.issues=i.issues),t.abortEarly){e.typed=!1;break}}i.typed||(e.typed=!1),e.value.push(i.value)}}else nH(this,"type",e,t);return e}}}(nX()),e)))),n4=(n3("setItem",(e,t,n)=>ts("saveStorageValue",{key:e,value:t},n).then()),n3("clear",e=>n7(e).then(n5)),"web_app_trigger_haptic_feedback"),n9=tT("hapticFeedback",n4),[n8,re]=(to(n4),n9("impactOccurred",e=>{ti(n4,{type:"impact",impact_style:e})}),n9("notificationOccurred",e=>{ti(n4,{type:"notification",notification_type:e})}),n9("selectionChanged",()=>{ti(n4,{type:"selection_change"})}),e5(void 0));function rt(e){return e3(()=>{let t=n8();return t?t[e]:void 0})}let rn=rt("auth_date"),rr=rt("can_send_after"),rs=e3(()=>{let e=rn(),t=rr();return t&&e?new Date(e.getTime()+1e3*t):void 0}),ra=rt("chat"),ri=rt("chat_type"),ro=rt("chat_instance"),ru=rt("hash"),rl=rt("query_id"),[rc,rp]=e5(),rd=rt("receiver"),rf=Object.freeze(Object.defineProperty({__proto__:null,authDate:rn,canSendAfter:rr,canSendAfterDate:rs,chat:ra,chatInstance:ro,chatType:ri,hash:ru,queryId:rl,raw:rp,receiver:rd,restore:function(){let e=eF();n8.set(e.tgWebAppData),rc.set(new URLSearchParams(eU()).get("tgWebAppData")||void 0)},startParam:rt("start_param"),state:re,user:rt("user")},Symbol.toStringTag,{value:"Module"})),rh="web_app_open_invoice",ry=tT("invoice",rh);to(rh);let[rb,r_,rv]=nt(function(e,t,n){let r;if("url"===t){let{hostname:t,pathname:n}=new URL(e,window.location.href);if("t.me"!==t)throw new tv(`Link has unexpected hostname: ${t}`);let s=n.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/);if(!s)throw new tv('Expected to receive a link with a pathname in format "/invoice/{slug}" or "/${slug}"');[,,r]=s}else r=e,n=t;return ta(rh,"invoice_closed",{...n,params:{slug:r},capture:e=>r===e.slug}).then(e=>e.status)},"Invoice is already opened"),[,rg,rm]=(ry("open",rb),r_),[,rw]=rv,rk="locationManager",rx="web_app_check_location",rE="web_app_open_location_settings",rA=e2({available:!1,accessGranted:!1,accessRequested:!1},void 0);function rC(e){return e3(()=>rA()[e])}function rS(e){let t=!1,n,r;return e.available&&(t=!0,n=e.access_requested,r=e.access_granted),{available:t,accessGranted:r||!1,accessRequested:n||!1}}rC("available"),rC("accessGranted"),rC("accessRequested");let[rj,r$,rq,rP]=nn(rk,e=>{let t=e0()&&eQ(rk);return t?t9.resolve(t):ta("web_app_check_location","location_checked",e).then(rS)},e=>{rA.set(e),eY(rk,e)}),rI=tT(rk,rx),rO=tO(rk,rP[0],rx),[,rT,rB]=(rI("mount",rj),r$),[,rL]=rq,[rR,rD]=rP,[rV,rM,rN]=nt(e=>ta("web_app_request_location","location_requested",e).then(e=>{if(!e.available)throw rA.set({...rA(),available:!1}),new td("Location data tracking is not available");let{available:t,...n}=e;return n}),"Location request is currently in progress"),[,rW,rU]=(rO("requestLocation",rV),rM),[,rF]=rN;function rz(e){let t={};for(let n in e){let r=e[n];void 0!==r&&(t[n]=r)}return t}function rG(e){return{lang:(null==e?void 0:e.lang)??void 0,message:null==e?void 0:e.message,abortEarly:(null==e?void 0:e.abortEarly)??void 0,abortPipeEarly:(null==e?void 0:e.abortPipeEarly)??void 0}}function rH(e,t,n,r,s){var a,i;let o=s&&"input"in s?s.input:n.value,u=(null==s?void 0:s.expected)??e.expects??null,l=(null==s?void 0:s.received)??function(e){var t,n;let r=typeof e;return"string"===r?`"${e}"`:"number"===r||"bigint"===r||"boolean"===r?`${e}`:"object"===r||"function"===r?(e&&(null==(n=null==(t=Object.getPrototypeOf(e))?void 0:t.constructor)?void 0:n.name))??"null":r}(o),c={kind:e.kind,type:e.type,input:o,expected:u,received:l,message:`Invalid ${t}: ${u?`Expected ${u} but r`:"R"}eceived ${l}`,requirement:e.requirement,path:null==s?void 0:s.path,issues:null==s?void 0:s.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},p="schema"===e.kind,d=(null==s?void 0:s.message)??e.message??(a=e.reference,void(i=c.lang))??(p?void c.lang:null)??r.message??void c.lang;d&&(c.message="function"==typeof d?d(c):d),p&&(n.typed=!1),n.issues?n.issues.push(c):n.issues=[c]}function rJ(e){return{version:1,vendor:"valibot",validate:t=>e["~run"]({value:t},rG())}}function rK(e,t){return Object.hasOwn(e,t)&&"__proto__"!==t&&"prototype"!==t&&"constructor"!==t}rI("openSettings",()=>{ti(rE)},rE);var rZ=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function rY(e){return{kind:"transformation",type:"transform",reference:rY,async:!1,operation:e,"~run"(e){return e.value=this.operation(e.value),e}}}function rQ(e,t,n){return"function"==typeof e.default?e.default(t,n):e.default}function rX(e){return{kind:"schema",type:"boolean",reference:rX,expects:"boolean",async:!1,message:e,get"~standard"(){return rJ(this)},"~run"(e,t){return"boolean"==typeof e.value?e.typed=!0:rH(this,"type",e,t),e}}}function r0(e){return{kind:"schema",type:"lazy",reference:r0,expects:"unknown",async:!1,getter:e,get"~standard"(){return rJ(this)},"~run"(e,t){return this.getter(e.value)["~run"](e,t)}}}function r1(e,t){return{kind:"schema",type:"loose_object",reference:r1,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return rJ(this)},"~run"(e,t){var n;let r=e.value;if(r&&"object"==typeof r){for(let s in e.typed=!0,e.value={},this.entries){let a=this.entries[s];if(s in r||("exact_optional"===a.type||"optional"===a.type||"nullish"===a.type)&&void 0!==a.default){let i=s in r?r[s]:rQ(a),o=a["~run"]({value:i},t);if(o.issues){let a={type:"object",origin:"value",input:r,key:s,value:i};for(let t of o.issues)t.path?t.path.unshift(a):t.path=[a],null==(n=e.issues)||n.push(t);if(e.issues||(e.issues=o.issues),t.abortEarly){e.typed=!1;break}}o.typed||(e.typed=!1),e.value[s]=o.value}else if("exact_optional"!==a.type&&"optional"!==a.type&&"nullish"!==a.type&&(rH(this,"key",e,t,{input:void 0,expected:`"${s}"`,path:[{type:"object",origin:"key",input:r,key:s,value:r[s]}]}),t.abortEarly))break}if(!e.issues||!t.abortEarly)for(let t in r)!rK(r,t)||t in this.entries||(e.value[t]=r[t])}else rH(this,"type",e,t);return e}}}function r2(e){return{kind:"schema",type:"number",reference:r2,expects:"number",async:!1,message:e,get"~standard"(){return rJ(this)},"~run"(e,t){return"number"!=typeof e.value||isNaN(e.value)?rH(this,"type",e,t):e.typed=!0,e}}}function r6(e,t){return{kind:"schema",type:"optional",reference:r6,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return rJ(this)},"~run"(e,t){return void 0===e.value&&(void 0!==this.default&&(e.value=rQ(this,e,t)),void 0===e.value)?(e.typed=!0,e):this.wrapped["~run"](e,t)}}}function r3(e){return{kind:"schema",type:"string",reference:r3,expects:"string",async:!1,message:e,get"~standard"(){return rJ(this)},"~run"(e,t){return"string"==typeof e.value?e.typed=!0:rH(this,"type",e,t),e}}}function r5(e){let t;if(e)for(let n of e)t?t.push(...n.issues):t=n.issues;return t}function r7(e,t,n){let r=e["~run"]({value:t},rG(n));if(r.issues)throw new rZ(r.issues);return r.value}function r4(...e){return{...e[0],pipe:e,get"~standard"(){return rJ(this)},"~run"(t,n){for(let r of e)if("metadata"!==r.kind){if(t.issues&&("schema"===r.kind||"transformation"===r.kind)){t.typed=!1;break}t.issues&&(n.abortEarly||n.abortPipeEarly)||(t=r["~run"](t,n))}return t}}}function r9(e){return rY(t=>e?function e(t){let n=Object.entries(t).reduce((e,[t,n])=>(e[t.replace(/_[a-z]/g,e=>e[1].toUpperCase())]=n,e),{});for(let t in n){let r=n[t];!r||"object"!=typeof r||r instanceof Date||(n[t]=Array.isArray(r)?r.map(e):e(r))}return n}(t):t)}function r8(e){return t=>r4(e,r9(t))}function se(e){return(t,n)=>r7(r4(e,r9(n)),t)}function st(){return rY(JSON.parse)}function sn(e){let t=r8(e);return e=>r4(r3(),st(),t(e))}function sr(e){return rY(t=>{let n={};return new URLSearchParams(t).forEach((e,t)=>{let r=n[t];Array.isArray(r)?r.push(e):void 0===r?n[t]=e:n[t]=[r,e]}),r7(e,n)})}function ss(e){return t=>r4(function e(t,n){return{kind:"schema",type:"union",reference:e,expects:function(e,t){let n=[...new Set(e)];return n.length>1?`(${n.join(" | ")})`:n[0]??"never"}(t.map(e=>e.expects),0),async:!1,options:t,message:n,get"~standard"(){return rJ(this)},"~run"(e,t){let n,r,s;for(let a of this.options){let i=a["~run"]({value:e.value},t);if(i.typed){if(i.issues)r?r.push(i):r=[i];else{n=i;break}}else s?s.push(i):s=[i]}if(n)return n;if(r){if(1===r.length)return r[0];rH(this,"type",e,t,{issues:r5(r)}),e.typed=!0}else{if((null==s?void 0:s.length)===1)return s[0];rH(this,"type",e,t,{issues:r5(s)})}return e}}}([r3(),function e(t,n){return{kind:"schema",type:"instance",reference:e,expects:t.name,async:!1,class:t,message:n,get"~standard"(){return rJ(this)},"~run"(e,t){return e.value instanceof this.class?e.typed=!0:rH(this,"type",e,t),e}}}(URLSearchParams)]),sr(e),r9(t))}let sa=r6(r0(()=>sc())),si=r1({id:r2(),photo_url:r6(r3()),type:r3(),title:r3(),username:r6(r3())}),so=r1({added_to_attachment_menu:r6(rX()),allows_write_to_pm:r6(rX()),first_name:r3(),id:r2(),is_bot:r6(rX()),is_premium:r6(rX()),last_name:r6(r3()),language_code:r6(r3()),photo_url:r6(r3()),username:r6(r3())}),su=r1({auth_date:r4(r3(),rY(e=>new Date(1e3*Number(e))),function e(t){return{kind:"schema",type:"date",reference:e,expects:"Date",async:!1,message:t,get"~standard"(){return rJ(this)},"~run"(e,t){return e.value instanceof Date?isNaN(e.value)?rH(this,"type",e,t,{received:'"Invalid Date"'}):e.typed=!0:rH(this,"type",e,t),e}}}()),can_send_after:r6(r4(r3(),rY(Number),function e(t){return{kind:"validation",type:"integer",reference:e,async:!1,expects:null,requirement:Number.isInteger,message:t,"~run"(e,t){return e.typed&&!this.requirement(e.value)&&rH(this,"integer",e,t),e}}}())),chat:r6(r0(()=>sl())),chat_type:r6(r3()),chat_instance:r6(r3()),hash:r3(),query_id:r6(r3()),receiver:sa,start_param:r6(r3()),signature:r3(),user:sa}),sl=sn(si),sc=sn(so),sp=ss(su);function sd(e){return/^#[\da-f]{6}$/i.test(e)}let sf=r8(function e(t,n,r){return{kind:"schema",type:"record",reference:e,expects:"Object",async:!1,key:t,value:n,message:r,get"~standard"(){return rJ(this)},"~run"(e,t){var n,r;let s=e.value;if(s&&"object"==typeof s){for(let a in e.typed=!0,e.value={},s)if(rK(s,a)){let i=s[a],o=this.key["~run"]({value:a},t);if(o.issues){let r={type:"object",origin:"key",input:s,key:a,value:i};for(let t of o.issues)t.path=[r],null==(n=e.issues)||n.push(t);if(e.issues||(e.issues=o.issues),t.abortEarly){e.typed=!1;break}}let u=this.value["~run"]({value:i},t);if(u.issues){let n={type:"object",origin:"value",input:s,key:a,value:i};for(let t of u.issues)t.path?t.path.unshift(n):t.path=[n],null==(r=e.issues)||r.push(t);if(e.issues||(e.issues=u.issues),t.abortEarly){e.typed=!1;break}}o.typed&&u.typed||(e.typed=!1),o.typed&&(e.value[o.value]=u.value)}}else rH(this,"type",e,t);return e}}}(r3(),r4(r3(),function e(t,n){return{kind:"validation",type:"check",reference:e,async:!1,expects:null,requirement:t,message:n,"~run"(e,t){return e.typed&&!this.requirement(e.value)&&rH(this,"input",e,t),e}}}(sd),rY(e=>e)))),sh=r6(r4(r3(),rY(e=>"1"===e))),sy=sn(sf()),sb=ss(r1({tgWebAppBotInline:sh,tgWebAppData:r6(sp()),tgWebAppDefaultColors:r6(sy()),tgWebAppFullscreen:sh,tgWebAppPlatform:r3(),tgWebAppShowSettings:sh,tgWebAppStartParam:r6(r3()),tgWebAppThemeParams:sy(),tgWebAppVersion:r3()}));function s_(e){let t=function(e){let t=e.replace(/\s/g,"").toLowerCase();if(sd(t))return t;if(/^#[\da-f]{3}$/i.test(t)){let e="#";for(let n=0;n<3;n+=1)e+=t[1+n].repeat(2);return e}let n=t.match(/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/)||t.match(/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),\d{1,3}\)$/);if(!n)throw Error(`Value "${e}" does not satisfy any of known RGB formats.`);return n.slice(1).reduce((e,t)=>e+parseInt(t,10).toString(16).padStart(2,"0"),"#")}(e);return 120>Math.sqrt([.299,.587,.114].reduce((e,n,r)=>{let s=parseInt(t.slice(1+2*r,1+(r+1)*2),16);return e+s*s*n},0))}se(sp()),se(sb());let[sv,sg]=e5(!1),[sm,sw]=e5({});function sk(e){return e3(()=>sm()[e])}let sx=sk("accentTextColor"),sE=sk("bgColor"),sA=sk("buttonColor"),sC=sk("buttonTextColor"),sS=sk("bottomBarBgColor"),sj=sk("destructiveTextColor"),s$=sk("headerBgColor"),sq=sk("hintColor"),sP=e3(()=>{let{bgColor:e}=sm();return!e||s_(e)}),sI=sk("linkColor"),sO=sk("secondaryBgColor"),sT=sk("sectionBgColor"),sB=sk("sectionHeaderTextColor"),sL=sk("sectionSeparatorColor"),sR=sk("subtitleTextColor"),sD=sk("textColor");function sV(e){return e3(()=>sN()[e])}let sM=e2({hasShineEffect:!1,isEnabled:!0,isLoaderVisible:!1,isVisible:!1,text:"Continue"},void 0),sN=e3(()=>{let e=sM();return{...e,backgroundColor:e.backgroundColor||sA()||"#2481cc",textColor:e.textColor||sC()||"#ffffff"}}),[sW,sU]=e5(!1),sF=(sV("backgroundColor"),sV("hasShineEffect"),sV("isEnabled"),sV("isLoaderVisible"),sV("isVisible"),sV("text"),sV("textColor"),"main_button_pressed"),sz="mainButton",sG=tI(sz),sH=nD(sz,sU);function sJ(e,t){document.documentElement.style.setProperty(e,t)}function sK(e){document.documentElement.style.removeProperty(e)}sG("mount",()=>{if(!sW()){let e=e0()&&eQ(sz);e&&sM.set(e),sW.set(!0)}}),sG("onClick",e=>em(sF,e)),sG("offClick",e=>{ew(sF,e)}),sH("setParams",e=>{sM.set({...sM(),...rz(e)}),eY(sz,sM());let t=sN();t.text&&ti("web_app_setup_main_button",{color:t.backgroundColor,has_shine_effect:t.hasShineEffect,is_active:t.isEnabled,is_progress_visible:t.isLoaderVisible,is_visible:t.isVisible,text:t.text,text_color:t.textColor})});let sZ="themeParams",sY="theme_changed",sQ=tI(sZ),sX=({theme_params:e})=>{sm.set(e),eY(sZ,e)},[s0,s1,s2,s6]=nn(sZ,e=>{let t=e0()&&eQ(sZ);return t?t9.resolve(t):ta("web_app_request_theme","theme_changed",e).then(e=>e.theme_params)},e=>{em(sY,sX),sm.set(e)}),s3=nD(sZ,s6[0])("bindCssVars",e=>{if(sv())throw new tc;function t(e){Object.entries(sm()).forEach(([t,n])=>{n&&e(t,n)})}function n(){t((t,n)=>{sJ(e(t),n)})}return e||(e=e=>`--tg-theme-${e.replace(/_([a-z])/g,(e,t)=>`-${t.toLowerCase()}`)}`),n(),sm.sub(n),sv.set(!0),()=>{t(sK),sm.unsub(n),sv.set(!1)}}),s5=sQ("mount",s0),[,s7,s4]=s1,[,s9]=s2,[s8,ae]=s6;function at(e){return e3(()=>{let t=e();return sd(t)?t:"bg_color"===t?sE():sO()})}let[an,ar]=e5("bg_color"),as=at(an),[aa,ai]=e5("bottom_bar_bg_color"),ao=e3(()=>{let e=aa();return sd(e)?e:"bottom_bar_bg_color"===e?sS()||sO():"secondary_bg_color"===e?sO():sE()}),[au,al]=e5("bg_color"),ac=at(au),[ap,ad]=e5(!1),af=e3(()=>{let e=as();return!!e&&s_(e)}),[ah,ay]=e5(!0),ab=e3(()=>({backgroundColor:an(),bottomBarColor:aa(),headerColor:au(),isActive:ah()})),a_="web_app_set_background_color",av="web_app_set_bottom_bar_color",ag="web_app_set_header_color",am="visibility_changed",aw="miniApp",ak={any:[a_,av,ag]},ax=e3(()=>ak.any.some(e=>eJ(e,tr()))),aE=e=>{ah.set(e.is_visible),aN()},[aA,aC,aS,aj]=nn(aw,e=>s5(e).then(()=>e0()&&eQ(aw)||void 0),e=>{aW.ifAvailable(e?e.backgroundColor:"bg_color"),aU.ifAvailable(e?e.bottomBarColor:"bottom_bar_bg_color"),aF.ifAvailable(e?e.headerColor:"bg_color"),ah.set(!e||e.isActive),em(am,aE)}),a$=tI(aw),aq=tT(aw,ak),aP=tO(aw,aj[0],ak),aI=aP("bindCssVars",e=>{if(ap())throw new tc;let[t,n]=eX();function r(e,n){function r(){sJ(e,n()||null)}r(),t(n.sub(r),sK.bind(null,e))}return e||(e=e=>`--tg-${eK(e)}`),r(e("bgColor"),as),r(e("bottomBarColor"),ao),r(e("headerColor"),ac),t(()=>{ap.set(!1)}),ap.set(!0),n}),aO=a$("close",e=>{ti("web_app_close",{return_back:e})}),aT=aq("mount",aA),[,aB,aL]=aC,[,aR]=aS,[aD,aV]=aj,aM=a$("ready",()=>{ti("web_app_ready")});function aN(){eY(aw,ab())}let aW=aP("setBackgroundColor",e=>{e!==an()&&(ti(a_,{color:e}),an.set(e),aN())},a_),aU=aP("setBottomBarColor",e=>{e!==aa()&&(ti(av,{color:e}),aa.set(e),aN())},av),aF=aP("setHeaderColor",e=>{e!==au()&&(ti(ag,sd(e)?{color:e}:{color_key:e}),au.set(e),aN())},ag,{rgb:[ag,"color",sd]}),az=Object.freeze(Object.defineProperty({__proto__:null,backgroundColor:ar,backgroundColorRGB:as,bindCssVars:aI,bottomBarColor:ai,bottomBarColorRGB:ao,close:aO,headerColor:al,headerColorRGB:ac,isActive:ay,isCssVarsBound:ad,isDark:af,isMounted:aV,isMounting:aL,isSupported:ax,mount:aT,mountError:aR,mountPromise:aB,ready:aM,setBackgroundColor:aW,setBottomBarColor:aU,setHeaderColor:aF,state:ab,unmount:function(){no(aB),ew(am,aE),aD.set(!1)}},Symbol.toStringTag,{value:"Module"})),aG="web_app_open_popup",aH=tT("popup",aG),[aJ,aK,aZ]=(to(aG),nt(e=>ta(aG,"popup_closed",{...e,params:function(e){let t=e.message.trim(),n=(e.title||"").trim(),r=e.buttons||[];if(n.length>64)throw new tv(`Invalid title: ${n}`);if(!t||t.length>256)throw new tv(`Invalid message: ${t}`);if(r.length>3)throw new tv(`Invalid buttons count: ${r.length}`);return{title:n,message:t,buttons:r.length?r.map((e,t)=>{let n=e.id||"";if(n.length>64)throw new tv(`Button with index ${t} has invalid id: ${n}`);if(!e.type||"default"===e.type||"destructive"===e.type){let r=e.text.trim();if(!r||r.length>64)throw new tv(`Button with index ${t} has invalid text: ${r}`);return{type:e.type,text:r,id:n}}return{type:e.type,id:n}}):[{type:"close",id:""}]}}(e)}).then(({button_id:e})=>void 0===e?null:e),"A popup is already opened")),[,aY,aQ]=(aH("open",aJ),aK),[,aX]=aZ,a0="web_app_close_scan_qr_popup",a1="web_app_open_scan_qr_popup",a2=tT("qrScanner",a1),[a6,a3,a5]=(a2("close",()=>{ti(a0),no(a7)}),to(a1),nt(function(e){e||(e={});let{onCaptured:t,text:n,capture:r}=e,[,s]=eX(em("scan_qr_popup_closed",()=>{a.resolve()}),em("qr_text_received",e=>{t?t(e.data):(!r||r(e.data))&&(a.resolve(e.data),ti(a0))})),a=new ne(e);return(e.postEvent||ti)(a1,{text:n}),t9.resolve(a).catch(ni).finally(s)},"The QR Scanner is already opened")),[,a7,a4]=(a2("open",a6),a3),[,a9]=a5;function a8(e){return e3(()=>it()[e])}let ie=e2({hasShineEffect:!1,isEnabled:!0,isLoaderVisible:!1,isVisible:!1,position:"left",text:"Cancel"},void 0),it=e3(()=>{let e=ie();return{...e,backgroundColor:e.backgroundColor||ao()||"#000000",textColor:e.textColor||sA()||"#2481cc"}}),[ir,is]=e5(!1),ia=(a8("backgroundColor"),a8("hasShineEffect"),a8("isEnabled"),a8("isLoaderVisible"),a8("isVisible"),a8("position"),a8("text"),a8("textColor"),"web_app_setup_secondary_button"),ii="secondary_button_pressed",io="secondaryButton",iu=tT(io,ia),il=tO(io,is,ia);to(ia),iu("mount",()=>{if(!ir()){let e=e0()&&eQ(io);e&&ie.set(e),ir.set(!0)}}),iu("onClick",e=>em(ii,e)),iu("offClick",e=>{ew(ii,e)}),il("setParams",e=>{ie.set({...ie(),...rz(e)}),eY(io,ie());let t=it();t.text&&ti(ia,{color:t.backgroundColor,has_shine_effect:t.hasShineEffect,is_active:t.isEnabled,is_progress_visible:t.isLoaderVisible,is_visible:t.isVisible,position:t.position,text:t.text,text_color:t.textColor})});let ic="web_app_setup_settings_button",ip="settings_button_pressed",id="settingsButton",[ih,]=e5(!1),[iy,]=e5(!1),ib=(to(ic),tT(id,ic)),i_=tO(id,iy,ic);function iv(e){e!==ih()&&(ti(ic,{is_visible:e}),eY(id,e),ih.set(e))}i_("hide",()=>{iv(!1)}),ib("mount",()=>{iy()||(iv(e0()&&eQ(id)||!1),iy.set(!0))}),ib("onClick",e=>em(ip,e)),ib("offClick",e=>{ew(ip,e)}),i_("show",()=>{iv(!0)});let ig="web_app_setup_swipe_behavior",im="swipeBehavior",[iw,]=e5(!1),[ik,]=(to(ig),e5(!0)),ix=tT(im,ig),iE=tO(im,iw,ig);function iA(e,t){(e!==ik()||t)&&(ti(ig,{allow_vertical_swipe:e}),eY(im,e),ik.set(e))}iE("disableVertical",()=>{iA(!1)}),iE("enableVertical",()=>{iA(!0)}),ix("mount",()=>{iw()||(iA(e0()&&eQ(im)||!1,!0),iw.set(!0))});let iC=Object.freeze(Object.defineProperty({__proto__:null,accentTextColor:sx,backgroundColor:sE,bindCssVars:s3,bottomBarBgColor:sS,buttonColor:sA,buttonTextColor:sC,destructiveTextColor:sj,headerBackgroundColor:s$,hintColor:sq,isCssVarsBound:sg,isDark:sP,isMounted:ae,isMounting:s4,linkColor:sI,mount:s5,mountError:s9,mountPromise:s7,secondaryBackgroundColor:sO,sectionBackgroundColor:sT,sectionHeaderTextColor:sB,sectionSeparatorColor:sL,state:sw,subtitleTextColor:sR,textColor:sD,unmount:function(){no(s7),ew(sY,sX),s8.set(!1)}},Symbol.toStringTag,{value:"Module"})),iS="viewport",ij="fullscreen_changed",i$="safe_area_changed",iq="content_safe_area_changed",iP="viewport_changed",iI=tI(iS),iO={left:0,top:0,bottom:0,right:0};function iT(e){return Math.max(e,0)}let[iB,iL]=e5({contentSafeAreaInsets:iO,height:0,isExpanded:!1,isFullscreen:!1,safeAreaInsets:iO,stableHeight:0,width:0});function iR(e){return e3(()=>iL()[e])}let iD=iR("height"),iV=iR("stableHeight"),iM=iR("width"),iN=iR("isExpanded"),iW=e3(()=>iD()===iV());function iU(e){let{height:t,stableHeight:n,width:r}=e;iB.set({...iB(),...rz({...e,height:t?iT(t):void 0,width:r?iT(r):void 0,stableHeight:n?iT(n):void 0})}),eY(iS,iB())}function iF(e){return e3(()=>iz()[e])}let iz=iR("contentSafeAreaInsets"),iG=iF("bottom"),iH=iF("left"),iJ=iF("right"),iK=iF("top");function iZ(e){return e3(()=>iY()[e])}let iY=iR("safeAreaInsets"),iQ=iZ("bottom"),iX=iZ("left"),i0=iZ("right"),i1=iZ("top"),i2="web_app_request_safe_area",i6=tT(iS,i2),i3=i6("requestContentSafeAreaInsets",e=>ta("web_app_request_content_safe_area",iq,e)),i5=i6("requestSafeAreaInsets",e=>ta(i2,i$,e)),i7=e=>{let{height:t}=e;iU({isExpanded:e.is_expanded,height:t,width:e.width,stableHeight:e.is_state_stable?t:void 0})},i4=e=>{iU({isFullscreen:e.is_fullscreen})},i9=e=>{iU({safeAreaInsets:e})},i8=e=>{iU({contentSafeAreaInsets:e})},[oe,ot,on,or]=nn(iS,e=>{let t=e0()&&eQ(iS);return t?t9.resolve(t):t9.fn(async e=>{let t=await t9.all([i5.isAvailable()?i5(e):iY(),i3.isAvailable()?i3(e):iz()]),n=tn(),r={contentSafeAreaInsets:t[1],isFullscreen:!!n.tgWebAppFullscreen,safeAreaInsets:t[0]};if(["macos","tdesktop","unigram","webk","weba","web"].includes(n.tgWebAppPlatform)){let e=window;return{...r,height:e.innerHeight,isExpanded:!0,stableHeight:e.innerHeight,width:e.innerWidth}}return ta("web_app_request_viewport",iP,e).then(e=>({...r,height:e.height,isExpanded:e.is_expanded,stableHeight:e.is_state_stable?e.height:0,width:e.width}))},e)},e=>{em(iP,i7),em(ij,i4),em(i$,i9),em(iq,i8),iU(e)}),os=iI("mount",oe),[,oa,oi]=ot,[,oo]=on,[ou,ol]=or,oc=nD(iS,ou),[op,od]=e5(!1),of=oc("bindCssVars",e=>{if(op())throw new tc;e||(e=e=>`--tg-viewport-${eK(e)}`);let t=[["height",iD],["stableHeight",iV],["width",iM],["safeAreaInsetTop",i1],["safeAreaInsetBottom",iQ],["safeAreaInsetLeft",iX],["safeAreaInsetRight",i0],["contentSafeAreaInsetTop",iK],["contentSafeAreaInsetBottom",iG],["contentSafeAreaInsetLeft",iH],["contentSafeAreaInsetRight",iJ]].reduce((t,[n,r])=>{let s=e(n);if(s){let e=()=>{sJ(s,`${r()}px`)};t.push([e,r.sub(e),s])}return t},[]);return t.forEach(e=>{e[0]()}),op.set(!0),()=>{t.forEach(e=>{e[1](),sK(e[2])}),op.set(!1)}}),oh=iI("expand",()=>{ti("web_app_expand")}),oy="web_app_request_fullscreen",ob=tO(iS,ou,oy),o_=iR("isFullscreen"),[ov,og]=e5(),[om,ow]=e5();function ok(e,t){return ob(e,nt(e=>ta(t?oy:"web_app_exit_fullscreen",[ij,"fullscreen_failed"],e).then(e=>{if("error"in e&&"ALREADY_FULLSCREEN"!==e.error)throw new tC(e.error);let t=!("is_fullscreen"in e)||e.is_fullscreen;t!==o_()&&iU({isFullscreen:t})}),"Fullscreen mode change is already being requested",{promise:ov,error:om})[0])}let ox=ok("requestFullscreen",!0),oE=Object.freeze(Object.defineProperty({__proto__:null,bindCssVars:of,changeFullscreenError:ow,changeFullscreenPromise:og,contentSafeAreaInsetBottom:iG,contentSafeAreaInsetLeft:iH,contentSafeAreaInsetRight:iJ,contentSafeAreaInsetTop:iK,contentSafeAreaInsets:iz,exitFullscreen:ok("exitFullscreen"),expand:oh,height:iD,isCssVarsBound:od,isExpanded:iN,isFullscreen:o_,isMounted:ol,isMounting:oi,isStable:iW,mount:os,mountError:oo,mountPromise:oa,requestFullscreen:ox,safeAreaInsetBottom:iQ,safeAreaInsetLeft:iX,safeAreaInsetRight:i0,safeAreaInsetTop:i1,safeAreaInsets:iY,stableHeight:iV,state:iL,unmount:function(){no(oa),ew(iP,i7),ew(ij,i4),ew(i$,i9),ew(iq,i8),ou.set(!1)},width:iM},Symbol.toStringTag,{value:"Module"})),[oA,oC,oS]=nt(e=>ta("web_app_request_emoji_status_access","emoji_status_access_requested",e).then(e=>e.status),"Emoji status access request is already in progress"),[,oj,o$]=oC,[,oq]=oS,[oP,oI,oO]=nt((e,t)=>ta("web_app_set_emoji_status",["emoji_status_set","emoji_status_failed"],{params:{custom_emoji_id:e,duration:(t||{}).duration},...t}).then(e=>{if(e&&"error"in e)throw new tk(e.error)}),"Emoji status set request is currently in progress"),[,oT,oB]=oI,[,oL]=oO,[oR,oD,oV]=nt(e=>ta("web_app_check_home_screen","home_screen_checked",e).then(e=>e.status||"unknown"),"Check home screen status request is currently in progress"),[,oM,oN]=oD,[,oW]=oV,oU=(tI()("openLink",(e,t)=>{if("string"==typeof e)try{e=new URL(e)}catch(t){throw new tv(`"${e.toString()}" is invalid URL`,t)}t||(t={}),ti("web_app_open_link",{url:e.toString(),try_browser:t.tryBrowser,try_instant_view:t.tryInstantView})}),"web_app_open_tg_link"),oF=tI()("openTelegramLink",e=>{let t=e.toString();if(!t.match(/^https:\/\/t.me\/.+/))throw new tv(`"${t}" is invalid URL`);if(!eJ(oU,tr())){window.location.href=t;return}ti(oU,{path_full:(e=new URL(e)).pathname+e.search})});tI()("shareURL",(e,t)=>{oF("https://t.me/share/url?"+new URLSearchParams({url:e,text:t||""}).toString().replace(/\+/g,"%20"))});let oz="web_app_request_phone",[oG,oH,oJ]=nt(e=>ta(oz,"phone_requested",e).then(e=>e.status),"Phone access request is currently in progress"),oK=tP("requestPhoneAccess",oG,{isSupported:oz}),[,oZ,oY]=oH,[,oQ]=oJ;async function oX(e){let t=await ts("getRequestedContact",{},{...e,timeout:(e||{}).timeout||5e3});return n1(n2(function e(t,n){return{kind:"schema",type:"union",reference:e,expects:function(e,t){let n=[...new Set(e)];return n.length>1?`(${n.join(" | ")})`:n[0]??"never"}(t.map(e=>e.expects),0),async:!1,options:t,message:n,get"~standard"(){return nJ(this)},"~run"(e,t){let n,r,s;for(let a of this.options){let i=a["~run"]({value:e.value},t);if(i.typed){if(i.issues)r?r.push(i):r=[i];else{n=i;break}}else s?s.push(i):s=[i]}if(n)return n;if(r){if(1===r.length)return r[0];nH(this,"type",e,t,{issues:n0(r)}),e.typed=!0}else{if((null==s?void 0:s.length)===1)return s[0];nH(this,"type",e,t,{issues:n0(s)})}return e}}}([nX(),function e(t,n){return{kind:"schema",type:"instance",reference:e,expects:t.name,async:!1,class:t,message:n,get"~standard"(){return nJ(this)},"~run"(e,t){return e.value instanceof this.class?e.typed=!0:nH(this,"type",e,t),e}}}(URLSearchParams)]),sr(nQ({contact:n2(nX(),st(),nQ({user_id:function e(t){return{kind:"schema",type:"number",reference:e,expects:"number",async:!1,message:t,get"~standard"(){return nJ(this)},"~run"(e,t){return"number"!=typeof e.value||isNaN(e.value)?nH(this,"type",e,t):e.typed=!0,e}}}(),phone_number:nX(),first_name:nX(),last_name:function e(t,n){return{kind:"schema",type:"optional",reference:e,expects:`(${t.expects} | undefined)`,async:!1,wrapped:t,default:n,get"~standard"(){return nJ(this)},"~run"(e,t){return void 0===e.value&&(void 0!==this.default&&(e.value=nY(this,e,t)),void 0===e.value)?(e.typed=!0,e):this.wrapped["~run"](e,t)}}}(nX())})),auth_date:n2(nX(),function e(t){return{kind:"transformation",type:"transform",reference:e,async:!1,operation:t,"~run"(e){return e.value=this.operation(e.value),e}}}(e=>new Date(1e3*Number(e))),function e(t){return{kind:"schema",type:"date",reference:e,expects:"Date",async:!1,message:t,get"~standard"(){return nJ(this)},"~run"(e,t){return e.value instanceof Date?isNaN(e.value)?nH(this,"type",e,t,{received:'"Invalid Date"'}):e.typed=!0:nH(this,"type",e,t),e}}}()),hash:nX()}))),t)}let[o0,o1,o2]=nt(e=>new t9(async(e,t,n)=>{try{return e(await oX(n))}catch(e){if(e instanceof nZ)throw e}if(await oK(n)!=="sent")throw new tE("User denied access");let r=50;for(;!n.isAborted();){try{return e(await oX(n))}catch(e){if(e instanceof nZ)throw e}await new t9({abortSignal:void 0,timeout:r}).catch(()=>{}),r+=50}},e),"Contact is already being requested"),[,o6,o3]=o1,[,o5]=o2,[o7,o4,o9]=nt(e=>ta("web_app_request_write_access","write_access_requested",e).then(e=>e.status),"Write access request is currently in progress"),[,o8,ue]=o4,[,ut]=o9;function un(e){!function(e){e||(e={});let{postEvent:t}=e,n=e.launchParams||eF();tt.set(n),te.set("function"==typeof t?t:function(e,t){t||(t="strict");let n="function"==typeof t?t:e=>{let{method:n,version:r}=e,s="param"in e?new eS(n,e.param,r):new eA(n,r);if("strict"===t)throw s;return console.warn(s.message)};return(t,r)=>eJ(t,e)?"web_app_set_header_color"===t&&c(f({color:function e(){return{kind:"schema",type:"any",reference:e,expects:"any",async:!1,get"~standard"(){return i(this)},"~run":e=>(e.typed=!0,e)}}()}),r)&&!eJ(t,"color",e)?n({version:e,method:t,param:"color"}):eV(t,r):n({version:e,method:t})}(n.tgWebAppVersion)),e4(!1,"The package was configured. Launch params:",tt())}(e);let[t,n]=eX(em("reload_iframe",()=>{e4(!1,"Received a request to reload the page"),ti("iframe_will_reload"),window.location.reload()})),{acceptCustomStyles:r=!0}=e||{};if(r){let e=document.createElement("style");e.id="telegram-custom-styles",document.head.appendChild(e),t(em("set_custom_style",t=>{e.innerHTML=t}),()=>{document.head.removeChild(e)})}return ti("iframe_ready",{reload_supported:!0}),e4(!1,"The package was initialized"),n}},26:function(e,t,n){n.d(t,{Z:()=>r});let r=function(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=function e(t){var n,r,s="";if("string"==typeof t||"number"==typeof t)s+=t;else if("object"==typeof t){if(Array.isArray(t)){var a=t.length;for(n=0;n<a;n++)t[n]&&(r=e(t[n]))&&(s&&(s+=" "),s+=r)}else for(r in t)t[r]&&(s&&(s+=" "),s+=r)}return s}(e))&&(r&&(r+=" "),r+=t);return r}}}]);