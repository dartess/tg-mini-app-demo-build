"use strict";(globalThis.webpackChunkd=globalThis.webpackChunkd||[]).push([["902"],{525:function(e,t,n){let r;function s(e){return{lang:(null==e?void 0:e.lang)??void 0,message:null==e?void 0:e.message,abortEarly:(null==e?void 0:e.abortEarly)??void 0,abortPipeEarly:(null==e?void 0:e.abortPipeEarly)??void 0}}function a(e,t,n,r,s){var a,i;let o=s&&"input"in s?s.input:n.value,u=(null==s?void 0:s.expected)??e.expects??null,l=(null==s?void 0:s.received)??function(e){var t,n;let r=typeof e;return"string"===r?`"${e}"`:"number"===r||"bigint"===r||"boolean"===r?`${e}`:"object"===r||"function"===r?(e&&(null==(n=null==(t=Object.getPrototypeOf(e))?void 0:t.constructor)?void 0:n.name))??"null":r}(o),c={kind:e.kind,type:e.type,input:o,expected:u,received:l,message:`Invalid ${t}: ${u?`Expected ${u} but r`:"R"}eceived ${l}`,requirement:e.requirement,path:null==s?void 0:s.path,issues:null==s?void 0:s.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},p="schema"===e.kind,d=(null==s?void 0:s.message)??e.message??(a=e.reference,void(i=c.lang))??(p?void c.lang:null)??r.message??void c.lang;d&&(c.message="function"==typeof d?d(c):d),p&&(n.typed=!1),n.issues?n.issues.push(c):n.issues=[c]}function i(e){return{version:1,vendor:"valibot",validate:t=>e["~run"]({value:t},s())}}n.d(t,{F9R:()=>eG,FBj:()=>rh,Pjo:()=>oA,Rwq:()=>tY,S1n:()=>ur,U9s:()=>to,VwX:()=>aG,Y6U:()=>eF,ewE:()=>e8,on:()=>em,wue:()=>iC}),n(294);var o,u=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function l(e,t,n){return"function"==typeof e.default?e.default(t,n):e.default}function c(e,t){return!e["~run"]({value:t},{abortEarly:!0}).issues}function p(e){return{kind:"schema",type:"boolean",reference:p,expects:"boolean",async:!1,message:e,get"~standard"(){return i(this)},"~run"(e,t){return"boolean"==typeof e.value?e.typed=!0:a(this,"type",e,t),e}}}function d(e){return{kind:"schema",type:"function",reference:d,expects:"Function",async:!1,message:e,get"~standard"(){return i(this)},"~run"(e,t){return"function"==typeof e.value?e.typed=!0:a(this,"type",e,t),e}}}function f(e,t){return{kind:"schema",type:"loose_object",reference:f,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return i(this)},"~run"(e,t){var n;let r=e.value;if(r&&"object"==typeof r){for(let s in e.typed=!0,e.value={},this.entries){let i=this.entries[s];if(s in r||("exact_optional"===i.type||"optional"===i.type||"nullish"===i.type)&&void 0!==i.default){let a=s in r?r[s]:l(i),o=i["~run"]({value:a},t);if(o.issues){let i={type:"object",origin:"value",input:r,key:s,value:a};for(let t of o.issues)t.path?t.path.unshift(i):t.path=[i],null==(n=e.issues)||n.push(t);if(e.issues||(e.issues=o.issues),t.abortEarly){e.typed=!1;break}}o.typed||(e.typed=!1),e.value[s]=o.value}else if("exact_optional"!==i.type&&"optional"!==i.type&&"nullish"!==i.type&&(a(this,"key",e,t,{input:void 0,expected:`"${s}"`,path:[{type:"object",origin:"key",input:r,key:s,value:r[s]}]}),t.abortEarly))break}if(!e.issues||!t.abortEarly)for(let t in r)!Object.hasOwn(r,t)||"__proto__"===t||"prototype"===t||"constructor"===t||t in this.entries||(e.value[t]=r[t])}else a(this,"type",e,t);return e}}}function h(e,t){return{kind:"schema",type:"nullish",reference:h,expects:`(${e.expects} | null | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return i(this)},"~run"(e,t){return(null===e.value||void 0===e.value)&&(void 0!==this.default&&(e.value=l(this,e,t)),null===e.value||void 0===e.value)?(e.typed=!0,e):this.wrapped["~run"](e,t)}}}function y(e){return{kind:"schema",type:"number",reference:y,expects:"number",async:!1,message:e,get"~standard"(){return i(this)},"~run"(e,t){return"number"!=typeof e.value||isNaN(e.value)?a(this,"type",e,t):e.typed=!0,e}}}function _(e,t){return{kind:"schema",type:"optional",reference:_,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return i(this)},"~run"(e,t){return void 0===e.value&&(void 0!==this.default&&(e.value=l(this,e,t)),void 0===e.value)?(e.typed=!0,e):this.wrapped["~run"](e,t)}}}function b(e){return{kind:"schema",type:"string",reference:b,expects:"string",async:!1,message:e,get"~standard"(){return i(this)},"~run"(e,t){return"string"==typeof e.value?e.typed=!0:a(this,"type",e,t),e}}}function v(e,t,n){let r=e["~run"]({value:t},s(n));if(r.issues)throw new u(r.issues);return r.value}function g(e){return c(f({TelegramWebviewProxy:f({postEvent:d()})}),e)}var m=Object.defineProperty,w=(e,t,n)=>t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,k=(e,t,n)=>w(e,"symbol"!=typeof t?t+"":t,n);function x(e,t){t||(t=[]);class n extends Error{constructor(...n){super(..."function"==typeof t?t(...n):"string"==typeof t?[t]:t||[]),this.name=e}}return Object.defineProperty(n,"name",{value:e}),[n,e=>e instanceof n]}let[E,A]=x("CancelledError","Promise was canceled"),[S,C]=x("TimeoutError",(e,t)=>[`Timeout reached: ${e}ms`,{cause:t}]),j=Symbol("Resolved");function $(e){return Array.isArray(e)&&e[0]===j}function q(e,t){return e.reject=t.reject,e.abort=t.abort,e}let P=class e extends Promise{constructor(e,t){let n,r;super((s,a)=>{let i,o;"function"==typeof e?(i=e,o=t):o=e;let u=[],l=e=>(...t)=>{let n=e(...t);return u.forEach(e=>e()),n},c=new AbortController,{signal:p}=c;r=e=>{p.aborted||c.abort(e)};let d=()=>p.reason,f=e=>{let t=()=>{e(d())};p.addEventListener("abort",t,!0);let n=()=>{p.removeEventListener("abort",t,!0)};return u.push(n),n},h=l(e=>{s(e),r([j,e])});n=l(e=>{a(e),r(e)}),o||(o={});let{abortSignal:y,rejectOnAbort:_=!0}=o;if(y){if(y.aborted){let{reason:e}=y;if(_)return n(e);r(e)}else{let e=()=>{r(y.reason)};y.addEventListener("abort",e),u.push(()=>{y.removeEventListener("abort",e)})}}_&&f(a);let{timeout:b}=o;if(b){let e=setTimeout(()=>{r(new S(b))},b);u.push(()=>{clearTimeout(e)})}let v=()=>p.aborted,g=()=>$(d()),m=()=>{let e=d();return $(e)?e[1]:void 0};try{let e=i&&i(h,n,{abortReason:d,abortSignal:p,isAborted:v,isResolved:g,onAborted:f,onResolved:e=>f(()=>{g()&&e(m())}),resolved:m,throwIfAborted(){if(v())throw d()}});e instanceof Promise&&e.catch(n)}catch(e){n(e)}}),k(this,"abort"),k(this,"reject"),this.abort=r,this.reject=n}static fn(t,n){return new e(async(e,n,r)=>{try{e(await t(r))}catch(e){n(e)}},n)}static resolve(e){return this.fn(()=>e)}static reject(t){return new e((e,n)=>{n(t)})}cancel(){this.abort(new E)}catch(e){return this.then(void 0,e)}finally(e){return q(super.finally(e),this)}then(e,t){return q(super.then(e,t),this)}};function I(e){return`tapps/${e}`}function O(e){return{lang:(null==e?void 0:e.lang)??void 0,message:null==e?void 0:e.message,abortEarly:(null==e?void 0:e.abortEarly)??void 0,abortPipeEarly:(null==e?void 0:e.abortPipeEarly)??void 0}}function T(e,t,n,r,s){var a,i;let o=s&&"input"in s?s.input:n.value,u=(null==s?void 0:s.expected)??e.expects??null,l=(null==s?void 0:s.received)??function(e){var t,n;let r=typeof e;return"string"===r?`"${e}"`:"number"===r||"bigint"===r||"boolean"===r?`${e}`:"object"===r||"function"===r?(e&&(null==(n=null==(t=Object.getPrototypeOf(e))?void 0:t.constructor)?void 0:n.name))??"null":r}(o),c={kind:e.kind,type:e.type,input:o,expected:u,received:l,message:`Invalid ${t}: ${u?`Expected ${u} but r`:"R"}eceived ${l}`,requirement:e.requirement,path:null==s?void 0:s.path,issues:null==s?void 0:s.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},p="schema"===e.kind,d=(null==s?void 0:s.message)??e.message??(a=e.reference,void(i=c.lang))??(p?void c.lang:null)??r.message??void c.lang;d&&(c.message="function"==typeof d?d(c):d),p&&(n.typed=!1),n.issues?n.issues.push(c):n.issues=[c]}function L(e){return{version:1,vendor:"valibot",validate:t=>e["~run"]({value:t},O())}}function B(e,t){return Object.hasOwn(e,t)&&"__proto__"!==t&&"prototype"!==t&&"constructor"!==t}var R=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function D(e){return{kind:"transformation",type:"transform",reference:D,async:!1,operation:e,"~run"(e){return e.value=this.operation(e.value),e}}}function V(e,t,n){return"function"==typeof e.default?e.default(t,n):e.default}function M(e){return{kind:"schema",type:"boolean",reference:M,expects:"boolean",async:!1,message:e,get"~standard"(){return L(this)},"~run"(e,t){return"boolean"==typeof e.value?e.typed=!0:T(this,"type",e,t),e}}}function N(e){return{kind:"schema",type:"lazy",reference:N,expects:"unknown",async:!1,getter:e,get"~standard"(){return L(this)},"~run"(e,t){return this.getter(e.value)["~run"](e,t)}}}function W(e,t){return{kind:"schema",type:"loose_object",reference:W,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return L(this)},"~run"(e,t){var n;let r=e.value;if(r&&"object"==typeof r){for(let s in e.typed=!0,e.value={},this.entries){let a=this.entries[s];if(s in r||("exact_optional"===a.type||"optional"===a.type||"nullish"===a.type)&&void 0!==a.default){let i=s in r?r[s]:V(a),o=a["~run"]({value:i},t);if(o.issues){let a={type:"object",origin:"value",input:r,key:s,value:i};for(let t of o.issues)t.path?t.path.unshift(a):t.path=[a],null==(n=e.issues)||n.push(t);if(e.issues||(e.issues=o.issues),t.abortEarly){e.typed=!1;break}}o.typed||(e.typed=!1),e.value[s]=o.value}else if("exact_optional"!==a.type&&"optional"!==a.type&&"nullish"!==a.type&&(T(this,"key",e,t,{input:void 0,expected:`"${s}"`,path:[{type:"object",origin:"key",input:r,key:s,value:r[s]}]}),t.abortEarly))break}if(!e.issues||!t.abortEarly)for(let t in r)!B(r,t)||t in this.entries||(e.value[t]=r[t])}else T(this,"type",e,t);return e}}}function U(e){return{kind:"schema",type:"number",reference:U,expects:"number",async:!1,message:e,get"~standard"(){return L(this)},"~run"(e,t){return"number"!=typeof e.value||isNaN(e.value)?T(this,"type",e,t):e.typed=!0,e}}}function F(e,t){return{kind:"schema",type:"optional",reference:F,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return L(this)},"~run"(e,t){return void 0===e.value&&(void 0!==this.default&&(e.value=V(this,e,t)),void 0===e.value)?(e.typed=!0,e):this.wrapped["~run"](e,t)}}}function z(e){return{kind:"schema",type:"string",reference:z,expects:"string",async:!1,message:e,get"~standard"(){return L(this)},"~run"(e,t){return"string"==typeof e.value?e.typed=!0:T(this,"type",e,t),e}}}function G(e){let t;if(e)for(let n of e)t?t.push(...n.issues):t=n.issues;return t}function H(e,t,n){let r=e["~run"]({value:t},O(n));if(r.issues)throw new R(r.issues);return r.value}function J(...e){return{...e[0],pipe:e,get"~standard"(){return L(this)},"~run"(t,n){for(let r of e)if("metadata"!==r.kind){if(t.issues&&("schema"===r.kind||"transformation"===r.kind)){t.typed=!1;break}t.issues&&(n.abortEarly||n.abortPipeEarly)||(t=r["~run"](t,n))}return t}}}function K(e){return D(t=>e?function e(t){let n=Object.entries(t).reduce((e,[t,n])=>(e[t.replace(/_[a-z]/g,e=>e[1].toUpperCase())]=n,e),{});for(let t in n){let r=n[t];!r||"object"!=typeof r||r instanceof Date||(n[t]=Array.isArray(r)?r.map(e):e(r))}return n}(t):t)}function Z(e){return t=>J(e,K(t))}function Y(){return D(JSON.parse)}function Q(e){let t=Z(e);return e=>J(z(),Y(),t(e))}function X(e){return t=>J(function e(t,n){return{kind:"schema",type:"union",reference:e,expects:function(e,t){let n=[...new Set(e)];return n.length>1?`(${n.join(" | ")})`:n[0]??"never"}(t.map(e=>e.expects),0),async:!1,options:t,message:n,get"~standard"(){return L(this)},"~run"(e,t){let n,r,s;for(let a of this.options){let i=a["~run"]({value:e.value},t);if(i.typed){if(i.issues)r?r.push(i):r=[i];else{n=i;break}}else s?s.push(i):s=[i]}if(n)return n;if(r){if(1===r.length)return r[0];T(this,"type",e,t,{issues:G(r)}),e.typed=!0}else{if((null==s?void 0:s.length)===1)return s[0];T(this,"type",e,t,{issues:G(s)})}return e}}}([z(),function e(t,n){return{kind:"schema",type:"instance",reference:e,expects:t.name,async:!1,class:t,message:n,get"~standard"(){return L(this)},"~run"(e,t){return e.value instanceof this.class?e.typed=!0:T(this,"type",e,t),e}}}(URLSearchParams)]),D(t=>{let n={};return new URLSearchParams(t).forEach((e,t)=>{let r=n[t];Array.isArray(r)?r.push(e):void 0===r?n[t]=e:n[t]=[r,e]}),H(e,n)}),K(t))}let ee=F(N(()=>ea())),et=W({id:U(),photo_url:F(z()),type:z(),title:z(),username:F(z())}),en=W({added_to_attachment_menu:F(M()),allows_write_to_pm:F(M()),first_name:z(),id:U(),is_bot:F(M()),is_premium:F(M()),last_name:F(z()),language_code:F(z()),photo_url:F(z()),username:F(z())}),er=W({auth_date:J(z(),D(e=>new Date(1e3*Number(e))),function e(t){return{kind:"schema",type:"date",reference:e,expects:"Date",async:!1,message:t,get"~standard"(){return L(this)},"~run"(e,t){return e.value instanceof Date?isNaN(e.value)?T(this,"type",e,t,{received:'"Invalid Date"'}):e.typed=!0:T(this,"type",e,t),e}}}()),can_send_after:F(J(z(),D(Number),function e(t){return{kind:"validation",type:"integer",reference:e,async:!1,expects:null,requirement:Number.isInteger,message:t,"~run"(e,t){return e.typed&&!this.requirement(e.value)&&T(this,"integer",e,t),e}}}())),chat:F(N(()=>es())),chat_type:F(z()),chat_instance:F(z()),hash:z(),query_id:F(z()),receiver:ee,start_param:F(z()),signature:z(),user:ee}),es=Q(et),ea=Q(en),ei=X(er),eo=Z(function e(t,n,r){return{kind:"schema",type:"record",reference:e,expects:"Object",async:!1,key:t,value:n,message:r,get"~standard"(){return L(this)},"~run"(e,t){var n,r;let s=e.value;if(s&&"object"==typeof s){for(let a in e.typed=!0,e.value={},s)if(B(s,a)){let i=s[a],o=this.key["~run"]({value:a},t);if(o.issues){let r={type:"object",origin:"key",input:s,key:a,value:i};for(let t of o.issues)t.path=[r],null==(n=e.issues)||n.push(t);if(e.issues||(e.issues=o.issues),t.abortEarly){e.typed=!1;break}}let u=this.value["~run"]({value:i},t);if(u.issues){let n={type:"object",origin:"value",input:s,key:a,value:i};for(let t of u.issues)t.path?t.path.unshift(n):t.path=[n],null==(r=e.issues)||r.push(t);if(e.issues||(e.issues=u.issues),t.abortEarly){e.typed=!1;break}}o.typed&&u.typed||(e.typed=!1),o.typed&&(e.value[o.value]=u.value)}}else T(this,"type",e,t);return e}}}(z(),J(z(),function e(t,n){return{kind:"validation",type:"check",reference:e,async:!1,expects:null,requirement:t,message:n,"~run"(e,t){return e.typed&&!this.requirement(e.value)&&T(this,"input",e,t),e}}}(function(e){return/^#[\da-f]{6}$/i.test(e)}),D(e=>e)))),eu=F(J(z(),D(e=>"1"===e))),el=Q(eo()),ec=X(W({tgWebAppBotInline:eu,tgWebAppData:F(ei()),tgWebAppDefaultColors:F(el()),tgWebAppFullscreen:eu,tgWebAppPlatform:z(),tgWebAppShowSettings:eu,tgWebAppStartParam:F(z()),tgWebAppThemeParams:el(),tgWebAppVersion:z()})),ep=(o=ec(),(e,t)=>H(J(o,K(t)),e)),ed=W({eventType:z(),eventData:F(function e(){return{kind:"schema",type:"unknown",reference:e,expects:"unknown",async:!1,get"~standard"(){return L(this)},"~run":e=>(e.typed=!0,e)}}())});function ef(e,t){window.dispatchEvent(new MessageEvent("message",{data:JSON.stringify({eventType:e,eventData:t}),source:window.parent}))}let eh=!1,[ey,e_]=function(e,t){t||(t={});let{textColor:n,bgColor:r,shouldLog:s}=t,a=void 0===s||s,i="boolean"==typeof a?()=>a:a;function o(t,s,...a){if(s||i()){let s="font-weight:bold;padding:0 5px;border-radius:5px";console[t](`%c${Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(new Date)}%c / %c${e}`,`${s};background-color: lightblue;color:black`,"",`${s};${n?`color:${n};`:""}${r?`background-color:${r}`:""}`,...a)}}return[o.bind(void 0,"log"),o.bind(void 0,"error")]}("Bridge",{bgColor:"#9147ff",textColor:"white",shouldLog:()=>eh}),eb=e=>{ey(!1,"Event received:",e)},ev={clipboard_text_received:f({req_id:b(),data:h(b())}),custom_method_invoked:f({req_id:b(),result:_(function e(){return{kind:"schema",type:"unknown",reference:e,expects:"unknown",async:!1,get"~standard"(){return i(this)},"~run":e=>(e.typed=!0,e)}}()),error:_(b())}),popup_closed:h(f({button_id:h(b(),()=>{})}),{}),viewport_changed:f({height:y(),width:h(y(),()=>window.innerWidth),is_state_stable:p(),is_expanded:p()})};function eg(e){let t;if(e.source!==window.parent)return;try{t=v(function(...e){return{...e[0],pipe:e,get"~standard"(){return i(this)},"~run"(t,n){for(let r of e)if("metadata"!==r.kind){if(t.issues&&("schema"===r.kind||"transformation"===r.kind)){t.typed=!1;break}t.issues&&(n.abortEarly||n.abortPipeEarly)||(t=r["~run"](t,n))}return t}}}(b(),Y(),ed),e.data)}catch{return}let{eventType:n,eventData:r}=t,s=ev[n];try{let e=s?v(s,r):r;ek(n,e)}catch(e){e_(!0,[`An error occurred processing the "${n}" event from the Telegram application.`,"Please, file an issue here:","https://github.com/Telegram-Mini-Apps/telegram-apps/issues/new/choose"].join(`
`),t,e)}}let[em,ew,ek,ex]=function(e,t){var n;let r={all:n=n||new Map,on:function(e,t){var r=n.get(e);r?r.push(t):n.set(e,[t])},off:function(e,t){var r=n.get(e);r&&(t?r.splice(r.indexOf(t)>>>0,1):n.set(e,[]))},emit:function(e,t){var r=n.get(e);r&&r.slice().map(function(e){e(t)}),(r=n.get("*"))&&r.slice().map(function(n){n(e,t)})}},s=new Map,a=(e,n,a)=>{a||(a=!1);let i=s.get(e)||new Map;s.set(e,i);let o=i.get(n)||[];i.set(n,o);let u=o.findIndex(e=>e[1]===a);u>=0&&(r.off(e,o[u][0]),o.splice(u,1),o.length||i.delete(n),i.size||(s.delete(e),s.size||t()))};return[function(t,n,i){function o(){a(t,n,i)}function u(...e){i&&o(),"*"===t?n(e):n(...e)}s.size||e(),r.on(t,u);let l=s.get(t)||new Map;s.set(t,l);let c=l.get(n)||[];return l.set(n,c),c.push([u,i||!1]),o},a,r.emit,function(){let e=r.all.size;r.all.clear(),s.clear(),e&&t()}]}(()=>{let e=window,t={receiveEvent:ef};e.TelegramGameProxy_receiveEvent=ef,e.TelegramGameProxy=t,e.Telegram={WebView:t},window.addEventListener("message",eg)},()=>{["TelegramGameProxy_receiveEvent","TelegramGameProxy","Telegram"].forEach(e=>{delete window[e]}),window.removeEventListener("message",eg)});function eE(e,t){t||(t=[]);class n extends Error{constructor(...n){super(..."function"==typeof t?t(...n):"string"==typeof t?[t]:t||[]),this.name=e}}return Object.defineProperty(n,"name",{value:e}),[n,e=>e instanceof n]}let[eA,eS]=eE("MethodUnsupportedError",(e,t)=>[`Method "${e}" is unsupported in Mini Apps version ${t}`]),[eC,ej]=eE("MethodParameterUnsupportedError",(e,t,n)=>[`Parameter "${t}" of "${e}" method is unsupported in Mini Apps version ${n}`]),[e$,eq]=eE("LaunchParamsRetrieveError",["Unable to retrieve launch parameters from any known source. Perhaps, you have opened your app outside Telegram?","\uD83D\uDCD6 Refer to docs for more information:","https://docs.telegram-mini-apps.com/packages/telegram-apps-bridge/environment"].join(`
`)),[eP,eI]=eE("InvalidLaunchParamsError",e=>[`Invalid value for launch params: ${e}`]),[eO,eT]=eE("UnknownEnvError"),[eL,eB]=eE("InvokeCustomMethodError",e=>[`Server returned error: ${e}`]),eR=[],eD=function(e,t){t||(t={});let n=t.equals||Object.is,r=[],s=e,a=e=>{if(!n(s,e)){let t=s;s=e,[...r].forEach(([n,r])=>{n(e,t),r&&o(n,!0)})}};function i(e){let t="object"!=typeof e?{once:e}:e;return{once:t.once||!1,signal:t.signal||!1}}let o=(e,t)=>{let n=i(t),s=r.findIndex(([t,r])=>t===e&&r.once===n.once&&r.signal===n.signal);s>=0&&r.splice(s,1)},u=Object.assign(function(){var e;return e=u,eR.length&&eR[eR.length-1].add(e),s},{destroy(){r=[]},set:a,reset(){a(e)},sub:(e,t)=>(r.push([e,i(t)]),()=>o(e,t)),unsub:o,unsubAll(){r=r.filter(e=>e[1].signal)}});return u}("https://web.telegram.org");function eV(e,t){ey(!1,"Posting event:",t?{eventType:e,eventData:t}:{eventType:e});let n=window,r=JSON.stringify({eventType:e,eventData:t});if(function(){try{return window.self!==window.top}catch{return!0}}())return n.parent.postMessage(r,eD());if(g(n)){n.TelegramWebviewProxy.postEvent(e,JSON.stringify(t));return}if(c(f({external:f({notify:d()})}),n)){n.external.notify(r);return}throw new eO}function eM(e,t,n){n||(n={});let{capture:r}=n,[s,a]=function(){let e=[].flat(1);return[e.push.bind(e),()=>{e.forEach(e=>{e()})}]}();return new P(a=>{(Array.isArray(t)?t:[t]).forEach(e=>{s(em(e,n=>{(!r||(Array.isArray(t)?r({event:e,payload:n}):r(n)))&&a(n)}))}),(n.postEvent||eV)(e,n.params)},n).finally(a)}let eN="launchParams";function eW(e){return e.replace(/^[^?#]*[?#]/,"").replace(/[?#]/g,"&")}function eU(){for(let e of[()=>eW(window.location.href),()=>{let e=performance.getEntriesByType("navigation")[0];return e&&eW(e.name)},()=>(function(e){let t=sessionStorage.getItem(I(e));try{return t?JSON.parse(t):void 0}catch{}})(eN)]){let t=e();if(t&&function(e){try{return!ec()["~run"]({value:e},{abortEarly:!0}).issues}catch{return!1}}(t))return sessionStorage.setItem(I(eN),JSON.stringify(t)),t}throw new e$}function eF(e){let t=ep(eU());return e?function e(t){let n=Object.entries(t).reduce((e,[t,n])=>(e[t.replace(/_[a-z]/g,e=>e[1].toUpperCase())]=n,e),{});for(let t in n){let r=n[t];!r||"object"!=typeof r||r instanceof Date||(n[t]=Array.isArray(r)?r.map(e):e(r))}return n}(t):t}function ez(e,t){if(!e)try{return eF(),!0}catch{return!1}return P.fn(async e=>{if(g(window))return!0;try{return await eM("web_app_request_theme","theme_changed",e),!0}catch{return!1}},t||{timeout:100})}function eG(){return new URLSearchParams(eU()).get("tgWebAppData")||void 0}function eH(e){return e.split(".").map(Number)}function eJ(e,t){return 0>=function(e,t){let n=eH(e),r=eH(t),s=Math.max(n.length,r.length);for(let e=0;e<s;e+=1){let t=n[e]||0,s=r[e]||0;if(t!==s)return t>s?1:-1}return 0}(e,t)}function eK(e,t,n){if("string"==typeof n){if("web_app_open_link"===e){if("try_instant_view"===t)return eJ("6.4",n);if("try_browser"===t)return eJ("7.6",n)}if("web_app_set_header_color"===e&&"color"===t)return eJ("6.9",n);if("web_app_close"===e&&"return_back"===t)return eJ("7.6",n);if("web_app_setup_main_button"===e&&"has_shine_effect"===t)return eJ("7.10",n)}switch(e){case"web_app_open_tg_link":case"web_app_open_invoice":case"web_app_setup_back_button":case"web_app_set_background_color":case"web_app_set_header_color":case"web_app_trigger_haptic_feedback":return eJ("6.1",t);case"web_app_open_popup":return eJ("6.2",t);case"web_app_close_scan_qr_popup":case"web_app_open_scan_qr_popup":case"web_app_read_text_from_clipboard":return eJ("6.4",t);case"web_app_switch_inline_query":return eJ("6.7",t);case"web_app_invoke_custom_method":case"web_app_request_write_access":case"web_app_request_phone":return eJ("6.9",t);case"web_app_setup_settings_button":return eJ("6.10",t);case"web_app_biometry_get_info":case"web_app_biometry_open_settings":case"web_app_biometry_request_access":case"web_app_biometry_request_auth":case"web_app_biometry_update_token":return eJ("7.2",t);case"web_app_setup_swipe_behavior":return eJ("7.7",t);case"web_app_share_to_story":return eJ("7.8",t);case"web_app_setup_secondary_button":case"web_app_set_bottom_bar_color":return eJ("7.10",t);case"web_app_request_safe_area":case"web_app_request_content_safe_area":case"web_app_request_fullscreen":case"web_app_exit_fullscreen":case"web_app_set_emoji_status":case"web_app_add_to_home_screen":case"web_app_check_home_screen":case"web_app_request_emoji_status_access":case"web_app_check_location":case"web_app_open_location_settings":case"web_app_request_file_download":case"web_app_request_location":case"web_app_send_prepared_message":case"web_app_start_accelerometer":case"web_app_start_device_orientation":case"web_app_start_gyroscope":case"web_app_stop_accelerometer":case"web_app_stop_device_orientation":case"web_app_stop_gyroscope":case"web_app_toggle_orientation_lock":return eJ("8.0",t);default:return["iframe_ready","iframe_will_reload","web_app_close","web_app_data_send","web_app_expand","web_app_open_link","web_app_ready","web_app_request_theme","web_app_request_viewport","web_app_setup_main_button","web_app_setup_closing_behavior"].includes(e)}}function eZ(e){return e.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}function eY(e){return`tapps/${e}`}function eQ(e,t){sessionStorage.setItem(eY(e),JSON.stringify(t))}function eX(e){let t=sessionStorage.getItem(eY(e));try{return t?JSON.parse(t):void 0}catch{}}function e0(...e){let t=e.flat(1);return[t.push.bind(t),()=>{t.forEach(e=>{e()})}]}function e1(){let e=performance.getEntriesByType("navigation")[0];return!!e&&"reload"===e.type}function e2(e){if(r)return e();r=new Map;try{e()}finally{r.forEach(e=>e()),r=void 0}}function e6(e,t){t||(t={});let n=t.equals||Object.is,s=[],a=e,i=e=>{if(!n(a,e)){var t;let n=a;a=e,t=()=>{[...s].forEach(([t,r])=>{t(e,n),r&&u(t,!0)})},r&&r.set(l,t)||t()}};function o(e){let t="object"!=typeof e?{once:e}:e;return{once:t.once||!1,signal:t.signal||!1}}let u=(e,t)=>{let n=o(t),r=s.findIndex(([t,r])=>t===e&&r.once===n.once&&r.signal===n.signal);r>=0&&s.splice(r,1)},l=Object.assign(function(){var e;return e=l,e3.length&&e3[e3.length-1].add(e),a},{destroy(){s=[]},set:i,reset(){i(e)},sub:(e,t)=>(s.push([e,o(t)]),()=>u(e,t)),unsub:u,unsubAll(){s=s.filter(e=>e[1].signal)}});return l}let e3=[];function e5(e,t){return function(e,t){let n=new Set,r;function s(){return r||(r=e6(i(),t))}function a(){s().set(i())}function i(){let t;n.forEach(e=>{e.unsub(a,{signal:!0})});let r=new Set;e3.push(r);try{t=e()}finally{e3.pop()}return r.forEach(e=>{e.sub(a,{signal:!0})}),n=r,t}return Object.assign(function(){return s()()},{destroy(){s().destroy()},sub:(...e)=>s().sub(...e),unsub(...e){s().unsub(...e)},unsubAll(...e){s().unsubAll(...e)}})}(e,t)}function e7(e,t){let n=e6(e,t);return[n,e5(n)]}let e4=!1,[e9,]=function(e,t){t||(t={});let{textColor:n,bgColor:r,shouldLog:s}=t,a=void 0===s||s,i="boolean"==typeof a?()=>a:a;function o(e,t,...s){if(t||i()){let t="font-weight:bold;padding:0 5px;border-radius:5px";console[e](`%c${Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(new Date)}%c / %cSDK`,`${t};background-color: lightblue;color:black`,"",`${t};${n?`color:${n};`:""}${r?`background-color:${r}`:""}`,...s)}}return[o.bind(void 0,"log"),o.bind(void 0,"error")]}(0,{bgColor:"forestgreen",textColor:"white",shouldLog:()=>e4});function e8(e){e4=e,e!==eh&&((eh=e)?em("*",eb):ew("*",eb))}let te=e6(0,void 0),tt=e6(eV,void 0),[tn,tr]=e7({tgWebAppPlatform:"unknown",tgWebAppVersion:"0.0"}),ts=e5(()=>tr().tgWebAppVersion);function ta(e,t,n){var r;return te.set(te()+1),r=te().toString(),eM("web_app_invoke_custom_method","custom_method_invoked",{...{...n||{},postEvent:to},params:{method:e,params:t,req_id:r},capture:({req_id:e})=>e===r}).then(({result:e,error:t})=>{if(t)throw new eL(t);return e})}let ti=(e,t,n)=>(n||(n={}),n.postEvent||(n.postEvent=to),eM(e,t,n)),to=(e,t)=>tt()(e,t);function tu(e){return e5(()=>eK(e,ts()))}function tl(e,t){t||(t=[]);class n extends Error{constructor(...n){super(..."function"==typeof t?t(...n):"string"==typeof t?[t]:t||[]),this.name=e}}return Object.defineProperty(n,"name",{value:e}),[n,e=>e instanceof n]}function tc(e){return[e]}let[tp,td]=tl("CSSVarsBoundError","CSS variables are already bound"),[tf,th]=tl("NotAvailableError",tc),[ty,t_]=tl("InvalidEnvError",tc),[tb,tv]=tl("FunctionNotAvailableError",tc),[tg,tm]=tl("InvalidArgumentsError",(e,t)=>[e,{cause:t}]),[tw,tk]=tl("ConcurrentCallError",tc),[tx,tE]=tl("SetEmojiStatusError",e=>[`Failed to set emoji status: ${e}`]),[tA,tS]=tl("AccessDeniedError",tc),[tC,tj]=tl("FullscreenFailedError",tc),[t$,tq]=tl("ShareMessageError",tc);function tP(){return typeof window>"u"}function tI(e,t,n){let r;n||(n={});let{isSupported:s,isMounted:a,isMounting:i,component:o,supports:u}=n||{},l=`${o?`${o}.`:""}${e}()`,c=s?Array.isArray(s)||"object"==typeof s&&"any"in s?s:[s]:void 0;function p(e){if(u){let t=u[e];return eK(t[0],t[1],ts())}return!0}function d(){if(!c)return;let e=Array.isArray(c)?c:c.any,t=e.map(function(e){return"function"==typeof e?e():eK(e,ts())?void 0:`it is unsupported in Mini Apps version ${ts()}`}).filter(Boolean);return Array.isArray(c)?t[0]:t.length===e.length?t[t.length-1]:void 0}if(u)for(let e in r={},u)r[e]=e5(()=>p(e));let f=e5(()=>!d()),h=e5(()=>"0.0"!==ts()),y=e5(()=>!a||a()),_=e5(()=>ez()&&!tP()&&h()&&f()&&y());return Object.assign((...e)=>{let n=`Unable to call the ${l} ${o?"method":"function"}:`;if(tP()||!ez())throw new tb(`${n} it can't be called outside Mini Apps`);if(!h())throw new tb(`${n} the SDK was not initialized. Use the SDK init() function`);let r=d();if(r)throw new tb(`${n} ${r}`);let s=function(...e){for(let t in u)if(u[t][2](...e)&&!p(t))return`option ${t} is not supported in Mini Apps version ${ts()}`}(...e);if(s)throw new tb(`${n} ${s}`);if(!y()){let e=i&&i()?"mounting. Wait for the mount completion":`unmounted. Use the ${o}.mount() method`;throw new tb(`${n} the component is ${e}`)}return t(...e)},t,{isAvailable:_,ifAvailable:(...e)=>_()?[!0,t(...e)]:[!1]},c?{isSupported:f}:{},r?{supports:r}:{})}function tO(e,t){return t||(t={}),(n,r,s,a)=>tI(n,r,{...t,isSupported:s||t.isSupported,supports:a,component:e})}function tT(e,t,n){return tO(e,{isSupported:n,isMounted:t})}function tL(e,t){return tO(e,{isSupported:t})}let tB="web_app_setup_back_button",tR="back_button_pressed",tD="backButton",[tV,tM]=e7(!1),[tN,tW]=e7(!1),tU=tu(tB),tF=tT(tD,tN,tB),tz=tL(tD,tB),tG=tF("hide",()=>{tJ(!1)}),tH=tz("mount",()=>{tN()||(tJ(e1()&&eX(tD)||!1),tN.set(!0))});function tJ(e){e!==tV()&&(to(tB,{is_visible:e}),eQ(tD,e),tV.set(e))}let tK=tz("onClick",e=>em(tR,e)),tZ=tz("offClick",e=>{ew(tR,e)}),tY=Object.freeze(Object.defineProperty({__proto__:null,hide:tG,isMounted:tW,isSupported:tU,isVisible:tM,mount:tH,offClick:tZ,onClick:tK,show:tF("show",()=>{tJ(!0)}),unmount:function(){tN.set(!1)}},Symbol.toStringTag,{value:"Module"}));var tQ=Object.defineProperty,tX=(e,t,n)=>t in e?tQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,t0=(e,t,n)=>tX(e,"symbol"!=typeof t?t+"":t,n);function t1(e,t){t||(t=[]);class n extends Error{constructor(...n){super(..."function"==typeof t?t(...n):"string"==typeof t?[t]:t||[]),this.name=e}}return Object.defineProperty(n,"name",{value:e}),[n,e=>e instanceof n]}let[t2,t6]=t1("CancelledError","Promise was canceled"),[t3,t5]=t1("TimeoutError",(e,t)=>[`Timeout reached: ${e}ms`,{cause:t}]),t7=Symbol("Resolved");function t4(e){return Array.isArray(e)&&e[0]===t7}function t9(e,t){return e.reject=t.reject,e.abort=t.abort,e}let t8=class e extends Promise{constructor(e,t){let n,r;super((s,a)=>{let i,o;"function"==typeof e?(i=e,o=t):o=e;let u=[],l=e=>(...t)=>{let n=e(...t);return u.forEach(e=>e()),n},c=new AbortController,{signal:p}=c;r=e=>{p.aborted||c.abort(e)};let d=()=>p.reason,f=e=>{let t=()=>{e(d())};p.addEventListener("abort",t,!0);let n=()=>{p.removeEventListener("abort",t,!0)};return u.push(n),n},h=l(e=>{s(e),r([t7,e])});n=l(e=>{a(e),r(e)}),o||(o={});let{abortSignal:y,rejectOnAbort:_=!0}=o;if(y){if(y.aborted){let{reason:e}=y;if(_)return n(e);r(e)}else{let e=()=>{r(y.reason)};y.addEventListener("abort",e),u.push(()=>{y.removeEventListener("abort",e)})}}_&&f(a);let{timeout:b}=o;if(b){let e=setTimeout(()=>{r(new t3(b))},b);u.push(()=>{clearTimeout(e)})}let v=()=>p.aborted,g=()=>t4(d()),m=()=>{let e=d();return t4(e)?e[1]:void 0};try{let e=i&&i(h,n,{abortReason:d,abortSignal:p,isAborted:v,isResolved:g,onAborted:f,onResolved:e=>f(()=>{g()&&e(m())}),resolved:m,throwIfAborted(){if(v())throw d()}});e instanceof Promise&&e.catch(n)}catch(e){n(e)}}),t0(this,"abort"),t0(this,"reject"),this.abort=r,this.reject=n}static fn(t,n){return new e(async(e,n,r)=>{try{e(await t(r))}catch(e){n(e)}},n)}static resolve(e){return this.fn(()=>e)}static reject(t){return new e((e,n)=>{n(t)})}cancel(){this.abort(new t2)}catch(e){return this.then(void 0,e)}finally(e){return t9(super.finally(e),this)}then(e,t){return t9(super.then(e,t),this)}};function ne(e,t){return e.resolve=t.resolve,e}let nt=class e extends t8{constructor(e,t){let n,r,s;"function"==typeof e?(n=e,r=t):r=e,super((e,t,r)=>{s=e,n&&n(e,t,r)},r),t0(this,"resolve"),this.resolve=s}static fn(t,n){return new e((e,n,r)=>{try{Promise.resolve(t(r)).then(e,n)}catch(e){n(e)}},n)}static resolve(e){return this.fn(()=>e)}static reject(t){return new e((e,n)=>{n(t)})}catch(e){return this.then(void 0,e)}finally(e){return ne(super.finally(e),this)}then(e,t){return ne(super.then(e,t),this)}};function nn(e,t,n){n||(n={});let{promise:r,error:s}=n,[a,i]=r?[r,e5(r)]:e7(),[o,u]=s?[s,e5(s)]:e7();return[Object.assign((...n)=>{let r;if(a()){let e=new tw(t);return o.set(e),t8.reject(e)}return e2(()=>{a.set(e(...n)),o.set(void 0)}),a().catch(e=>{throw r=e,e}).finally(()=>{e2(()=>{a.set(void 0),o.set(r)})})},e),[a,i,e5(()=>!!a())],[o,u]]}function nr(e,t,n){let[r,...s]=nn(t,`The ${e} component is already mounting`),[a,i]=e7(!1);return[(...e)=>a()?t8.resolve():r(...e).then(e=>{e2(()=>{a.set(!0),n(e)})}),...s,[a,i]]}let[ns,]=e7({available:!1,type:"",accessGranted:!1,accessRequested:!1,deviceId:"",tokenSaved:!1}),na=(()=>ns().available,"web_app_biometry_get_info"),ni=tI("requestBiometry",e=>ti(na,"biometry_info_received",e),{isSupported:na});function no(e){if(!t6(e))throw e}function nu(e){let t=e();t&&t.catch(no).cancel()}let nl="biometry",nc="web_app_biometry_request_auth",np="biometry_info_received",nd=e=>{nD(nh(e))};function nf(){throw new tf("Biometry is not available")}function nh(e){let t=!1,n=!1,r="",s=!1,a="",i=!1;return e.available&&(t=!0,n=e.token_saved,r=e.device_id,s=e.access_requested,a=e.type,i=e.access_granted),{available:t,tokenSaved:n,deviceId:r,type:a,accessGranted:i,accessRequested:s}}tu(nc);let[ny,n_,nb,nv]=nr(nl,e=>{let t=e1()&&eX(nl);return t?t8.resolve(t):ni({abortSignal:e}).then(nh)},e=>{em(np,nd),nD(e)}),ng=tL(nl,nc),nm=tT(nl,nv[0],nc),[,nw,nk]=(ng("mount",ny),n_),[,nx]=nb,[nE,nA]=nv,[nS,nC,nj]=nn(e=>t8.fn(async t=>{let n=ns();n.available||nf();let r=await ti(nc,"biometry_auth_requested",{...e,...t,params:{reason:((e||{}).reason||"").trim()}}),{token:s}=r;return"string"==typeof s&&nD({...n,token:s}),r},e),"Biometry authentication is already in progress"),[,n$,nq]=(nm("authenticate",nS),nC),[,nP]=nj,[nI,nO,nT]=(ng("openSettings",()=>{to("web_app_biometry_open_settings")}),nn(e=>t8.fn(async t=>{let n=await ti("web_app_biometry_request_access",np,{...e,...t,params:{reason:(e||{}).reason||""}}).then(nh);return n.available||nf(),nD(n),n.accessGranted},e),"Biometry access request is already in progress")),[,nL,nB]=(nm("requestAccess",nI),nO),[,nR]=nT;function nD(e){ns.set(e),eQ(nl,e)}function nV(e,t){return tO(e,{isMounted:t})}nm("updateToken",e=>(e||(e={}),ti("web_app_biometry_update_token","biometry_token_updated",{...e,params:{token:e.token||"",reason:e.reason}}).then(e=>e.status)));let nM="closingBehavior",[nN,]=e7(!1),[nW,nU]=e7(!1),nF=nV(nM,nU),nz=tO(nM);function nG(e){e!==nN()&&(to("web_app_setup_closing_behavior",{need_confirmation:e}),eQ(nM,e),nN.set(e))}function nH(e){return{lang:(null==e?void 0:e.lang)??void 0,message:null==e?void 0:e.message,abortEarly:(null==e?void 0:e.abortEarly)??void 0,abortPipeEarly:(null==e?void 0:e.abortPipeEarly)??void 0}}function nJ(e,t,n,r,s){var a,i;let o=s&&"input"in s?s.input:n.value,u=(null==s?void 0:s.expected)??e.expects??null,l=(null==s?void 0:s.received)??function(e){var t,n;let r=typeof e;return"string"===r?`"${e}"`:"number"===r||"bigint"===r||"boolean"===r?`${e}`:"object"===r||"function"===r?(e&&(null==(n=null==(t=Object.getPrototypeOf(e))?void 0:t.constructor)?void 0:n.name))??"null":r}(o),c={kind:e.kind,type:e.type,input:o,expected:u,received:l,message:`Invalid ${t}: ${u?`Expected ${u} but r`:"R"}eceived ${l}`,requirement:e.requirement,path:null==s?void 0:s.path,issues:null==s?void 0:s.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},p="schema"===e.kind,d=(null==s?void 0:s.message)??e.message??(a=e.reference,void(i=c.lang))??(p?void c.lang:null)??r.message??void c.lang;d&&(c.message="function"==typeof d?d(c):d),p&&(n.typed=!1),n.issues?n.issues.push(c):n.issues=[c]}function nK(e){return{version:1,vendor:"valibot",validate:t=>e["~run"]({value:t},nH())}}function nZ(e,t){return Object.hasOwn(e,t)&&"__proto__"!==t&&"prototype"!==t&&"constructor"!==t}nF("disableConfirmation",()=>{nG(!1)}),nF("enableConfirmation",()=>{nG(!0)}),nz("mount",()=>{nW()||(nG(e1()&&eX(nM)||!1),nW.set(!0))});var nY=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function nQ(e,t,n){return"function"==typeof e.default?e.default(t,n):e.default}function nX(e,t){return{kind:"schema",type:"loose_object",reference:nX,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return nK(this)},"~run"(e,t){var n;let r=e.value;if(r&&"object"==typeof r){for(let s in e.typed=!0,e.value={},this.entries){let a=this.entries[s];if(s in r||("exact_optional"===a.type||"optional"===a.type||"nullish"===a.type)&&void 0!==a.default){let i=s in r?r[s]:nQ(a),o=a["~run"]({value:i},t);if(o.issues){let a={type:"object",origin:"value",input:r,key:s,value:i};for(let t of o.issues)t.path?t.path.unshift(a):t.path=[a],null==(n=e.issues)||n.push(t);if(e.issues||(e.issues=o.issues),t.abortEarly){e.typed=!1;break}}o.typed||(e.typed=!1),e.value[s]=o.value}else if("exact_optional"!==a.type&&"optional"!==a.type&&"nullish"!==a.type&&(nJ(this,"key",e,t,{input:void 0,expected:`"${s}"`,path:[{type:"object",origin:"key",input:r,key:s,value:r[s]}]}),t.abortEarly))break}if(!e.issues||!t.abortEarly)for(let t in r)!nZ(r,t)||t in this.entries||(e.value[t]=r[t])}else nJ(this,"type",e,t);return e}}}function n0(e){return{kind:"schema",type:"string",reference:n0,expects:"string",async:!1,message:e,get"~standard"(){return nK(this)},"~run"(e,t){return"string"==typeof e.value?e.typed=!0:nJ(this,"type",e,t),e}}}function n1(e){let t;if(e)for(let n of e)t?t.push(...n.issues):t=n.issues;return t}function n2(e,t,n){let r=e["~run"]({value:t},nH(n));if(r.issues)throw new nY(r.issues);return r.value}function n6(...e){return{...e[0],pipe:e,get"~standard"(){return nK(this)},"~run"(t,n){for(let r of e)if("metadata"!==r.kind){if(t.issues&&("schema"===r.kind||"transformation"===r.kind)){t.typed=!1;break}t.issues&&(n.abortEarly||n.abortPipeEarly)||(t=r["~run"](t,n))}return t}}}let n3="web_app_invoke_custom_method",n5=tL("cloudStorage",n3),n7=(tu(n3),n5("deleteItem",(e,t)=>{let n=Array.isArray(e)?e:[e];return n.length?ta("deleteStorageValues",{keys:n},t).then():t8.resolve()})),n4=(n5("getItem",function(e,t){let n=Array.isArray(e)?e:[e];return n.length?ta("getStorageValues",{keys:n},t).then(e=>n2(function e(t,n,r){return{kind:"schema",type:"record",reference:e,expects:"Object",async:!1,key:t,value:n,message:r,get"~standard"(){return nK(this)},"~run"(e,t){var n,r;let s=e.value;if(s&&"object"==typeof s){for(let a in e.typed=!0,e.value={},s)if(nZ(s,a)){let i=s[a],o=this.key["~run"]({value:a},t);if(o.issues){let r={type:"object",origin:"key",input:s,key:a,value:i};for(let t of o.issues)t.path=[r],null==(n=e.issues)||n.push(t);if(e.issues||(e.issues=o.issues),t.abortEarly){e.typed=!1;break}}let u=this.value["~run"]({value:i},t);if(u.issues){let n={type:"object",origin:"value",input:s,key:a,value:i};for(let t of u.issues)t.path?t.path.unshift(n):t.path=[n],null==(r=e.issues)||r.push(t);if(e.issues||(e.issues=u.issues),t.abortEarly){e.typed=!1;break}}o.typed&&u.typed||(e.typed=!1),o.typed&&(e.value[o.value]=u.value)}}else nJ(this,"type",e,t);return e}}}(n6(n0(),function e(t,n){return{kind:"validation",type:"check",reference:e,async:!1,expects:null,requirement:t,message:n,"~run"(e,t){return e.typed&&!this.requirement(e.value)&&nJ(this,"input",e,t),e}}}(e=>n.includes(e))),n0()),e)):t8.resolve("string"==typeof e?"":{})}),n5("getKeys",e=>ta("getStorageKeys",{},e).then(e=>n2(function e(t,n){return{kind:"schema",type:"array",reference:e,expects:"Array",async:!1,item:t,message:n,get"~standard"(){return nK(this)},"~run"(e,t){var n;let r=e.value;if(Array.isArray(r)){e.typed=!0,e.value=[];for(let s=0;s<r.length;s++){let a=r[s],i=this.item["~run"]({value:a},t);if(i.issues){let o={type:"array",origin:"value",input:r,key:s,value:a};for(let t of i.issues)t.path?t.path.unshift(o):t.path=[o],null==(n=e.issues)||n.push(t);if(e.issues||(e.issues=i.issues),t.abortEarly){e.typed=!1;break}}i.typed||(e.typed=!1),e.value.push(i.value)}}else nJ(this,"type",e,t);return e}}}(n0()),e)))),n9=(n5("setItem",(e,t,n)=>ta("saveStorageValue",{key:e,value:t},n).then()),n5("clear",e=>n4(e).then(n7)),"web_app_trigger_haptic_feedback"),n8=tL("hapticFeedback",n9),[re,rt]=(tu(n9),n8("impactOccurred",e=>{to(n9,{type:"impact",impact_style:e})}),n8("notificationOccurred",e=>{to(n9,{type:"notification",notification_type:e})}),n8("selectionChanged",()=>{to(n9,{type:"selection_change"})}),e7(void 0));function rn(e){return e5(()=>{let t=re();return t?t[e]:void 0})}let rr=rn("auth_date"),rs=rn("can_send_after"),ra=e5(()=>{let e=rr(),t=rs();return t&&e?new Date(e.getTime()+1e3*t):void 0}),ri=rn("chat"),ro=rn("chat_type"),ru=rn("chat_instance"),rl=rn("hash"),rc=rn("query_id"),[rp,rd]=e7(),rf=rn("receiver"),rh=Object.freeze(Object.defineProperty({__proto__:null,authDate:rr,canSendAfter:rs,canSendAfterDate:ra,chat:ri,chatInstance:ru,chatType:ro,hash:rl,queryId:rc,raw:rd,receiver:rf,restore:function(){let e=eF();re.set(e.tgWebAppData),rp.set(eG())},startParam:rn("start_param"),state:rt,user:rn("user")},Symbol.toStringTag,{value:"Module"})),ry="web_app_open_invoice",r_=tL("invoice",ry);tu(ry);let[rb,rv,rg]=nn(function(e,t,n){let r;if("url"===t){let{hostname:t,pathname:n}=new URL(e,window.location.href);if("t.me"!==t)throw new tg(`Link has unexpected hostname: ${t}`);let s=n.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/);if(!s)throw new tg('Expected to receive a link with a pathname in format "/invoice/{slug}" or "/${slug}"');[,,r]=s}else r=e,n=t;return ti(ry,"invoice_closed",{...n,params:{slug:r},capture:e=>r===e.slug}).then(e=>e.status)},"Invoice is already opened"),[,rm,rw]=(r_("open",rb),rv),[,rk]=rg,rx="locationManager",rE="web_app_check_location",rA="web_app_open_location_settings",rS=e6({available:!1,accessGranted:!1,accessRequested:!1},void 0);function rC(e){return e5(()=>rS()[e])}function rj(e){let t=!1,n,r;return e.available&&(t=!0,n=e.access_requested,r=e.access_granted),{available:t,accessGranted:r||!1,accessRequested:n||!1}}tu(rE),rC("available"),rC("accessGranted"),rC("accessRequested");let[r$,rq,rP,rI]=nr(rx,e=>{let t=e1()&&eX(rx);return t?t8.resolve(t):ti("web_app_check_location","location_checked",e).then(rj)},e=>{rS.set(e),eQ(rx,e)}),rO=tL(rx,rE),rT=tT(rx,rI[0],rE),[,rL,rB]=(rO("mount",r$),rq),[,rR]=rP,[rD,rV]=rI,[rM,rN,rW]=nn(e=>ti("web_app_request_location","location_requested",e).then(e=>{if(!e.available)throw rS.set({...rS(),available:!1}),new tf("Location data tracking is not available");let{available:t,...n}=e;return n}),"Location request is currently in progress"),[,rU,rF]=(rT("requestLocation",rM),rN),[,rz]=rW;function rG(e){let t={};for(let n in e){let r=e[n];void 0!==r&&(t[n]=r)}return t}function rH(e){return{lang:(null==e?void 0:e.lang)??void 0,message:null==e?void 0:e.message,abortEarly:(null==e?void 0:e.abortEarly)??void 0,abortPipeEarly:(null==e?void 0:e.abortPipeEarly)??void 0}}function rJ(e,t,n,r,s){var a,i;let o=s&&"input"in s?s.input:n.value,u=(null==s?void 0:s.expected)??e.expects??null,l=(null==s?void 0:s.received)??function(e){var t,n;let r=typeof e;return"string"===r?`"${e}"`:"number"===r||"bigint"===r||"boolean"===r?`${e}`:"object"===r||"function"===r?(e&&(null==(n=null==(t=Object.getPrototypeOf(e))?void 0:t.constructor)?void 0:n.name))??"null":r}(o),c={kind:e.kind,type:e.type,input:o,expected:u,received:l,message:`Invalid ${t}: ${u?`Expected ${u} but r`:"R"}eceived ${l}`,requirement:e.requirement,path:null==s?void 0:s.path,issues:null==s?void 0:s.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},p="schema"===e.kind,d=(null==s?void 0:s.message)??e.message??(a=e.reference,void(i=c.lang))??(p?void c.lang:null)??r.message??void c.lang;d&&(c.message="function"==typeof d?d(c):d),p&&(n.typed=!1),n.issues?n.issues.push(c):n.issues=[c]}function rK(e){return{version:1,vendor:"valibot",validate:t=>e["~run"]({value:t},rH())}}function rZ(e,t){return Object.hasOwn(e,t)&&"__proto__"!==t&&"prototype"!==t&&"constructor"!==t}rO("openSettings",()=>{to(rA)},rA);var rY=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function rQ(e){return{kind:"transformation",type:"transform",reference:rQ,async:!1,operation:e,"~run"(e){return e.value=this.operation(e.value),e}}}function rX(e,t,n){return"function"==typeof e.default?e.default(t,n):e.default}function r0(e){return{kind:"schema",type:"boolean",reference:r0,expects:"boolean",async:!1,message:e,get"~standard"(){return rK(this)},"~run"(e,t){return"boolean"==typeof e.value?e.typed=!0:rJ(this,"type",e,t),e}}}function r1(e){return{kind:"schema",type:"lazy",reference:r1,expects:"unknown",async:!1,getter:e,get"~standard"(){return rK(this)},"~run"(e,t){return this.getter(e.value)["~run"](e,t)}}}function r2(e,t){return{kind:"schema",type:"loose_object",reference:r2,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return rK(this)},"~run"(e,t){var n;let r=e.value;if(r&&"object"==typeof r){for(let s in e.typed=!0,e.value={},this.entries){let a=this.entries[s];if(s in r||("exact_optional"===a.type||"optional"===a.type||"nullish"===a.type)&&void 0!==a.default){let i=s in r?r[s]:rX(a),o=a["~run"]({value:i},t);if(o.issues){let a={type:"object",origin:"value",input:r,key:s,value:i};for(let t of o.issues)t.path?t.path.unshift(a):t.path=[a],null==(n=e.issues)||n.push(t);if(e.issues||(e.issues=o.issues),t.abortEarly){e.typed=!1;break}}o.typed||(e.typed=!1),e.value[s]=o.value}else if("exact_optional"!==a.type&&"optional"!==a.type&&"nullish"!==a.type&&(rJ(this,"key",e,t,{input:void 0,expected:`"${s}"`,path:[{type:"object",origin:"key",input:r,key:s,value:r[s]}]}),t.abortEarly))break}if(!e.issues||!t.abortEarly)for(let t in r)!rZ(r,t)||t in this.entries||(e.value[t]=r[t])}else rJ(this,"type",e,t);return e}}}function r6(e){return{kind:"schema",type:"number",reference:r6,expects:"number",async:!1,message:e,get"~standard"(){return rK(this)},"~run"(e,t){return"number"!=typeof e.value||isNaN(e.value)?rJ(this,"type",e,t):e.typed=!0,e}}}function r3(e,t){return{kind:"schema",type:"optional",reference:r3,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return rK(this)},"~run"(e,t){return void 0===e.value&&(void 0!==this.default&&(e.value=rX(this,e,t)),void 0===e.value)?(e.typed=!0,e):this.wrapped["~run"](e,t)}}}function r5(e){return{kind:"schema",type:"string",reference:r5,expects:"string",async:!1,message:e,get"~standard"(){return rK(this)},"~run"(e,t){return"string"==typeof e.value?e.typed=!0:rJ(this,"type",e,t),e}}}function r7(e){let t;if(e)for(let n of e)t?t.push(...n.issues):t=n.issues;return t}function r4(e,t,n){let r=e["~run"]({value:t},rH(n));if(r.issues)throw new rY(r.issues);return r.value}function r9(...e){return{...e[0],pipe:e,get"~standard"(){return rK(this)},"~run"(t,n){for(let r of e)if("metadata"!==r.kind){if(t.issues&&("schema"===r.kind||"transformation"===r.kind)){t.typed=!1;break}t.issues&&(n.abortEarly||n.abortPipeEarly)||(t=r["~run"](t,n))}return t}}}function r8(e){return rQ(t=>e?function e(t){let n=Object.entries(t).reduce((e,[t,n])=>(e[t.replace(/_[a-z]/g,e=>e[1].toUpperCase())]=n,e),{});for(let t in n){let r=n[t];!r||"object"!=typeof r||r instanceof Date||(n[t]=Array.isArray(r)?r.map(e):e(r))}return n}(t):t)}function se(e){return t=>r9(e,r8(t))}function st(e){return(t,n)=>r4(r9(e,r8(n)),t)}function sn(){return rQ(JSON.parse)}function sr(e){let t=se(e);return e=>r9(r5(),sn(),t(e))}function ss(e){return rQ(t=>{let n={};return new URLSearchParams(t).forEach((e,t)=>{let r=n[t];Array.isArray(r)?r.push(e):void 0===r?n[t]=e:n[t]=[r,e]}),r4(e,n)})}function sa(e){return t=>r9(function e(t,n){return{kind:"schema",type:"union",reference:e,expects:function(e,t){let n=[...new Set(e)];return n.length>1?`(${n.join(" | ")})`:n[0]??"never"}(t.map(e=>e.expects),0),async:!1,options:t,message:n,get"~standard"(){return rK(this)},"~run"(e,t){let n,r,s;for(let a of this.options){let i=a["~run"]({value:e.value},t);if(i.typed){if(i.issues)r?r.push(i):r=[i];else{n=i;break}}else s?s.push(i):s=[i]}if(n)return n;if(r){if(1===r.length)return r[0];rJ(this,"type",e,t,{issues:r7(r)}),e.typed=!0}else{if((null==s?void 0:s.length)===1)return s[0];rJ(this,"type",e,t,{issues:r7(s)})}return e}}}([r5(),function e(t,n){return{kind:"schema",type:"instance",reference:e,expects:t.name,async:!1,class:t,message:n,get"~standard"(){return rK(this)},"~run"(e,t){return e.value instanceof this.class?e.typed=!0:rJ(this,"type",e,t),e}}}(URLSearchParams)]),ss(e),r8(t))}let si=r3(r1(()=>sp())),so=r2({id:r6(),photo_url:r3(r5()),type:r5(),title:r5(),username:r3(r5())}),su=r2({added_to_attachment_menu:r3(r0()),allows_write_to_pm:r3(r0()),first_name:r5(),id:r6(),is_bot:r3(r0()),is_premium:r3(r0()),last_name:r3(r5()),language_code:r3(r5()),photo_url:r3(r5()),username:r3(r5())}),sl=r2({auth_date:r9(r5(),rQ(e=>new Date(1e3*Number(e))),function e(t){return{kind:"schema",type:"date",reference:e,expects:"Date",async:!1,message:t,get"~standard"(){return rK(this)},"~run"(e,t){return e.value instanceof Date?isNaN(e.value)?rJ(this,"type",e,t,{received:'"Invalid Date"'}):e.typed=!0:rJ(this,"type",e,t),e}}}()),can_send_after:r3(r9(r5(),rQ(Number),function e(t){return{kind:"validation",type:"integer",reference:e,async:!1,expects:null,requirement:Number.isInteger,message:t,"~run"(e,t){return e.typed&&!this.requirement(e.value)&&rJ(this,"integer",e,t),e}}}())),chat:r3(r1(()=>sc())),chat_type:r3(r5()),chat_instance:r3(r5()),hash:r5(),query_id:r3(r5()),receiver:si,start_param:r3(r5()),signature:r5(),user:si}),sc=sr(so),sp=sr(su),sd=sa(sl);function sf(e){return/^#[\da-f]{6}$/i.test(e)}let sh=se(function e(t,n,r){return{kind:"schema",type:"record",reference:e,expects:"Object",async:!1,key:t,value:n,message:r,get"~standard"(){return rK(this)},"~run"(e,t){var n,r;let s=e.value;if(s&&"object"==typeof s){for(let a in e.typed=!0,e.value={},s)if(rZ(s,a)){let i=s[a],o=this.key["~run"]({value:a},t);if(o.issues){let r={type:"object",origin:"key",input:s,key:a,value:i};for(let t of o.issues)t.path=[r],null==(n=e.issues)||n.push(t);if(e.issues||(e.issues=o.issues),t.abortEarly){e.typed=!1;break}}let u=this.value["~run"]({value:i},t);if(u.issues){let n={type:"object",origin:"value",input:s,key:a,value:i};for(let t of u.issues)t.path?t.path.unshift(n):t.path=[n],null==(r=e.issues)||r.push(t);if(e.issues||(e.issues=u.issues),t.abortEarly){e.typed=!1;break}}o.typed&&u.typed||(e.typed=!1),o.typed&&(e.value[o.value]=u.value)}}else rJ(this,"type",e,t);return e}}}(r5(),r9(r5(),function e(t,n){return{kind:"validation",type:"check",reference:e,async:!1,expects:null,requirement:t,message:n,"~run"(e,t){return e.typed&&!this.requirement(e.value)&&rJ(this,"input",e,t),e}}}(sf),rQ(e=>e)))),sy=r3(r9(r5(),rQ(e=>"1"===e))),s_=sr(sh()),sb=sa(r2({tgWebAppBotInline:sy,tgWebAppData:r3(sd()),tgWebAppDefaultColors:r3(s_()),tgWebAppFullscreen:sy,tgWebAppPlatform:r5(),tgWebAppShowSettings:sy,tgWebAppStartParam:r3(r5()),tgWebAppThemeParams:s_(),tgWebAppVersion:r5()}));function sv(e){let t=function(e){let t=e.replace(/\s/g,"").toLowerCase();if(sf(t))return t;if(/^#[\da-f]{3}$/i.test(t)){let e="#";for(let n=0;n<3;n+=1)e+=t[1+n].repeat(2);return e}let n=t.match(/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/)||t.match(/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),\d{1,3}\)$/);if(!n)throw Error(`Value "${e}" does not satisfy any of known RGB formats.`);return n.slice(1).reduce((e,t)=>e+parseInt(t,10).toString(16).padStart(2,"0"),"#")}(e);return 120>Math.sqrt([.299,.587,.114].reduce((e,n,r)=>{let s=parseInt(t.slice(1+2*r,1+(r+1)*2),16);return e+s*s*n},0))}st(sd()),st(sb());let[sg,sm]=e7(!1),[sw,sk]=e7({});function sx(e){return e5(()=>sw()[e])}let sE=sx("accent_text_color"),sA=sx("bg_color"),sS=sx("button_color"),sC=sx("button_text_color"),sj=sx("bottom_bar_bg_color"),s$=sx("destructive_text_color"),sq=sx("header_bg_color"),sP=sx("hint_color"),sI=e5(()=>{let e=sA();return!e||sv(e)}),sO=sx("link_color"),sT=sx("secondary_bg_color"),sL=sx("section_bg_color"),sB=sx("section_header_text_color"),sR=sx("section_separator_color"),sD=sx("subtitle_text_color"),sV=sx("text_color");function sM(e){return e5(()=>sW()[e])}let sN=e6({hasShineEffect:!1,isEnabled:!0,isLoaderVisible:!1,isVisible:!1,text:"Continue"},void 0),sW=e5(()=>{let e=sN();return{...e,backgroundColor:e.backgroundColor||sS()||"#2481cc",textColor:e.textColor||sC()||"#ffffff"}}),[sU,sF]=e7(!1),sz=(sM("backgroundColor"),sM("hasShineEffect"),sM("isEnabled"),sM("isLoaderVisible"),sM("isVisible"),sM("text"),sM("textColor"),"main_button_pressed"),sG="mainButton",sH=tO(sG),sJ=nV(sG,sF);function sK(e,t){document.documentElement.style.setProperty(e,t)}function sZ(e){document.documentElement.style.removeProperty(e)}sH("mount",()=>{if(!sU()){let e=e1()&&eX(sG);e&&sN.set(e),sU.set(!0)}}),sH("onClick",e=>em(sz,e)),sH("offClick",e=>{ew(sz,e)}),sJ("setParams",e=>{sN.set({...sN(),...rG(e)}),eQ(sG,sN());let t=sW();t.text&&to("web_app_setup_main_button",{color:t.backgroundColor,has_shine_effect:t.hasShineEffect,is_active:t.isEnabled,is_progress_visible:t.isLoaderVisible,is_visible:t.isVisible,text:t.text,text_color:t.textColor})});let sY="themeParams",sQ="theme_changed",sX=tO(sY),s0=({theme_params:e})=>{sw.set(e),eQ(sY,e)},[s1,s2,s6,s3]=nr(sY,e=>{let t=e1()&&eX(sY);return t?t8.resolve(t):ti("web_app_request_theme","theme_changed",e).then(e=>e.theme_params)},e=>{em(sQ,s0),sw.set(e)}),s5=nV(sY,s3[0])("bindCssVars",e=>{if(sg())throw new tp;function t(e){Object.entries(sw()).forEach(([t,n])=>{n&&e(t,n)})}function n(){t((t,n)=>{sK(e(t),n)})}return e||(e=e=>`--tg-theme-${e.replace(/_([a-z])/g,(e,t)=>`-${t.toLowerCase()}`)}`),n(),sw.sub(n),sg.set(!0),()=>{t(sZ),sw.unsub(n),sg.set(!1)}}),s7=sX("mount",s1),[,s4,s9]=s2,[,s8]=s6,[ae,at]=s3;function an(e){return e5(()=>{let t=e();return sf(t)?t:"bg_color"===t?sA():sT()})}let[ar,as]=e7("bg_color"),aa=an(ar),[ai,ao]=e7("bottom_bar_bg_color"),au=e5(()=>{let e=ai();return sf(e)?e:"bottom_bar_bg_color"===e?sj()||sT():"secondary_bg_color"===e?sT():sA()}),[al,ac]=e7("bg_color"),ap=an(al),[ad,af]=e7(!1),ah=e5(()=>{let e=aa();return!!e&&sv(e)}),[ay,a_]=e7(!0),ab=e5(()=>({backgroundColor:ar(),bottomBarColor:ai(),headerColor:al(),isActive:ay()})),av="web_app_set_background_color",ag="web_app_set_bottom_bar_color",am="web_app_set_header_color",aw="visibility_changed",ak="miniApp",ax={any:[av,ag,am]},aE=e5(()=>ax.any.some(e=>eK(e,ts()))),aA=e=>{ay.set(e.is_visible),aW()},[aS,aC,aj,a$]=nr(ak,e=>s7(e).then(()=>e1()&&eX(ak)||void 0),e=>{aU.ifAvailable(e?e.backgroundColor:"bg_color"),aF.ifAvailable(e?e.bottomBarColor:"bottom_bar_bg_color"),az.ifAvailable(e?e.headerColor:"bg_color"),ay.set(!e||e.isActive),em(aw,aA)}),aq=tO(ak),aP=tL(ak,ax),aI=tT(ak,a$[0],ax),aO=aI("bindCssVars",e=>{if(ad())throw new tp;let[t,n]=e0();function r(e,n){function r(){sK(e,n()||null)}r(),t(n.sub(r),sZ.bind(null,e))}return e||(e=e=>`--tg-${eZ(e)}`),r(e("bgColor"),aa),r(e("bottomBarColor"),au),r(e("headerColor"),ap),t(()=>{ad.set(!1)}),ad.set(!0),n}),aT=aq("close",e=>{to("web_app_close",{return_back:e})}),aL=aP("mount",aS),[,aB,aR]=aC,[,aD]=aj,[aV,aM]=a$,aN=aq("ready",()=>{to("web_app_ready")});function aW(){eQ(ak,ab())}let aU=aI("setBackgroundColor",e=>{e!==ar()&&(to(av,{color:e}),ar.set(e),aW())},av),aF=aI("setBottomBarColor",e=>{e!==ai()&&(to(ag,{color:e}),ai.set(e),aW())},ag),az=aI("setHeaderColor",e=>{e!==al()&&(to(am,sf(e)?{color:e}:{color_key:e}),al.set(e),aW())},am,{rgb:[am,"color",sf]}),aG=Object.freeze(Object.defineProperty({__proto__:null,backgroundColor:as,backgroundColorRGB:aa,bindCssVars:aO,bottomBarColor:ao,bottomBarColorRGB:au,close:aT,headerColor:ac,headerColorRGB:ap,isActive:a_,isCssVarsBound:af,isDark:ah,isMounted:aM,isMounting:aR,isSupported:aE,mount:aL,mountError:aD,mountPromise:aB,ready:aN,setBackgroundColor:aU,setBottomBarColor:aF,setHeaderColor:az,state:ab,unmount:function(){nu(aB),ew(aw,aA),aV.set(!1)}},Symbol.toStringTag,{value:"Module"})),aH="web_app_open_popup",aJ=tL("popup",aH),[aK,aZ,aY]=(tu(aH),nn(e=>ti(aH,"popup_closed",{...e,params:function(e){let t=e.message.trim(),n=(e.title||"").trim(),r=e.buttons||[];if(n.length>64)throw new tg(`Invalid title: ${n}`);if(!t||t.length>256)throw new tg(`Invalid message: ${t}`);if(r.length>3)throw new tg(`Invalid buttons count: ${r.length}`);return{title:n,message:t,buttons:r.length?r.map((e,t)=>{let n=e.id||"";if(n.length>64)throw new tg(`Button with index ${t} has invalid id: ${n}`);if(!e.type||"default"===e.type||"destructive"===e.type){let r=e.text.trim();if(!r||r.length>64)throw new tg(`Button with index ${t} has invalid text: ${r}`);return{type:e.type,text:r,id:n}}return{type:e.type,id:n}}):[{type:"close",id:""}]}}(e)}).then(({button_id:e})=>void 0===e?null:e),"A popup is already opened")),[,aQ,aX]=(aJ("open",aK),aZ),[,a0]=aY,a1="web_app_close_scan_qr_popup",a2="web_app_open_scan_qr_popup",a6=tL("qrScanner",a2),[a3,a5,a7]=(a6("close",()=>{to(a1),nu(a4)}),tu(a2),nn(function(e){e||(e={});let{onCaptured:t,text:n,capture:r}=e,[,s]=e0(em("scan_qr_popup_closed",()=>{a.resolve()}),em("qr_text_received",e=>{t?t(e.data):(!r||r(e.data))&&(a.resolve(e.data),to(a1))})),a=new nt(e);return(e.postEvent||to)(a2,{text:n}),t8.resolve(a).catch(no).finally(s)},"The QR Scanner is already opened")),[,a4,a9]=(a6("open",a3),a5),[,a8]=a7;function ie(e){return e5(()=>ir()[e])}let it=e6({hasShineEffect:!1,isEnabled:!0,isLoaderVisible:!1,isVisible:!1,position:"left",text:"Cancel"},void 0),ir=e5(()=>{let e=it();return{...e,backgroundColor:e.backgroundColor||au()||"#000000",textColor:e.textColor||sS()||"#2481cc"}}),[is,ia]=e7(!1),ii=(ie("backgroundColor"),ie("hasShineEffect"),ie("isEnabled"),ie("isLoaderVisible"),ie("isVisible"),ie("position"),ie("text"),ie("textColor"),"web_app_setup_secondary_button"),io="secondary_button_pressed",iu="secondaryButton",il=tL(iu,ii),ic=tT(iu,ia,ii);tu(ii),il("mount",()=>{if(!is()){let e=e1()&&eX(iu);e&&it.set(e),is.set(!0)}}),il("onClick",e=>em(io,e)),il("offClick",e=>{ew(io,e)}),ic("setParams",e=>{it.set({...it(),...rG(e)}),eQ(iu,it());let t=ir();t.text&&to(ii,{color:t.backgroundColor,has_shine_effect:t.hasShineEffect,is_active:t.isEnabled,is_progress_visible:t.isLoaderVisible,is_visible:t.isVisible,position:t.position,text:t.text,text_color:t.textColor})});let ip="web_app_setup_settings_button",id="settings_button_pressed",ih="settingsButton",[iy,]=e7(!1),[i_,]=e7(!1),ib=(tu(ip),tL(ih,ip)),iv=tT(ih,i_,ip);function ig(e){e!==iy()&&(to(ip,{is_visible:e}),eQ(ih,e),iy.set(e))}iv("hide",()=>{ig(!1)}),ib("mount",()=>{i_()||(ig(e1()&&eX(ih)||!1),i_.set(!0))}),ib("onClick",e=>em(id,e)),ib("offClick",e=>{ew(id,e)}),iv("show",()=>{ig(!0)});let im="web_app_setup_swipe_behavior",iw="swipeBehavior",[ik,]=e7(!1),[ix,]=(tu(im),e7(!0)),iE=tL(iw,im),iA=tT(iw,ik,im);function iS(e,t){(e!==ix()||t)&&(to(im,{allow_vertical_swipe:e}),eQ(iw,e),ix.set(e))}iA("disableVertical",()=>{iS(!1)}),iA("enableVertical",()=>{iS(!0)}),iE("mount",()=>{ik()||(iS(e1()&&eX(iw)||!1,!0),ik.set(!0))});let iC=Object.freeze(Object.defineProperty({__proto__:null,accentTextColor:sE,backgroundColor:sA,bindCssVars:s5,bottomBarBgColor:sj,buttonColor:sS,buttonTextColor:sC,destructiveTextColor:s$,headerBackgroundColor:sq,hintColor:sP,isCssVarsBound:sm,isDark:sI,isMounted:at,isMounting:s9,linkColor:sO,mount:s7,mountError:s8,mountPromise:s4,secondaryBackgroundColor:sT,sectionBackgroundColor:sL,sectionHeaderTextColor:sB,sectionSeparatorColor:sR,state:sk,subtitleTextColor:sD,textColor:sV,unmount:function(){nu(s4),ew(sQ,s0),ae.set(!1)}},Symbol.toStringTag,{value:"Module"})),ij="viewport",i$="fullscreen_changed",iq="safe_area_changed",iP="content_safe_area_changed",iI="viewport_changed",iO=tO(ij),iT={left:0,top:0,bottom:0,right:0};function iL(e){return Math.max(e,0)}let[iB,iR]=e7({contentSafeAreaInsets:iT,height:0,isExpanded:!1,isFullscreen:!1,safeAreaInsets:iT,stableHeight:0,width:0});function iD(e){return e5(()=>iR()[e])}let iV=iD("height"),iM=iD("stableHeight"),iN=iD("width"),iW=iD("isExpanded"),iU=e5(()=>iV()===iM());function iF(e){let{height:t,stableHeight:n,width:r}=e;iB.set({...iB(),...rG({...e,height:t?iL(t):void 0,width:r?iL(r):void 0,stableHeight:n?iL(n):void 0})}),eQ(ij,iB())}function iz(e){return e5(()=>iG()[e])}let iG=iD("contentSafeAreaInsets"),iH=iz("bottom"),iJ=iz("left"),iK=iz("right"),iZ=iz("top");function iY(e){return e5(()=>iQ()[e])}let iQ=iD("safeAreaInsets"),iX=iY("bottom"),i0=iY("left"),i1=iY("right"),i2=iY("top"),i6="web_app_request_safe_area",i3=tL(ij,i6),i5=i3("requestContentSafeAreaInsets",e=>ti("web_app_request_content_safe_area",iP,e)),i7=i3("requestSafeAreaInsets",e=>ti(i6,iq,e)),i4=e=>{let{height:t}=e;iF({isExpanded:e.is_expanded,height:t,width:e.width,stableHeight:e.is_state_stable?t:void 0})},i9=e=>{iF({isFullscreen:e.is_fullscreen})},i8=e=>{iF({safeAreaInsets:e})},oe=e=>{iF({contentSafeAreaInsets:e})},[ot,on,or,os]=nr(ij,e=>{let t=e1()&&eX(ij);return t?t8.resolve(t):t8.fn(async e=>{let t=await t8.all([i7.isAvailable()?i7(e):iQ(),i5.isAvailable()?i5(e):iG()]),n=tr(),r={contentSafeAreaInsets:t[1],isFullscreen:!!n.tgWebAppFullscreen,safeAreaInsets:t[0]};if(["macos","tdesktop","unigram","webk","weba","web"].includes(n.tgWebAppPlatform)){let e=window;return{...r,height:e.innerHeight,isExpanded:!0,stableHeight:e.innerHeight,width:e.innerWidth}}return ti("web_app_request_viewport",iI,e).then(e=>({...r,height:e.height,isExpanded:e.is_expanded,stableHeight:e.is_state_stable?e.height:0,width:e.width}))},e)},e=>{em(iI,i4),em(i$,i9),em(iq,i8),em(iP,oe),iF(e)}),oa=iO("mount",ot),[,oi,oo]=on,[,ou]=or,[ol,oc]=os,op=nV(ij,ol),[od,of]=e7(!1),oh=op("bindCssVars",e=>{if(od())throw new tp;e||(e=e=>`--tg-viewport-${eZ(e)}`);let t=[["height",iV],["stableHeight",iM],["width",iN],["safeAreaInsetTop",i2],["safeAreaInsetBottom",iX],["safeAreaInsetLeft",i0],["safeAreaInsetRight",i1],["contentSafeAreaInsetTop",iZ],["contentSafeAreaInsetBottom",iH],["contentSafeAreaInsetLeft",iJ],["contentSafeAreaInsetRight",iK]].reduce((t,[n,r])=>{let s=e(n);if(s){let e=()=>{sK(s,`${r()}px`)};t.push([e,r.sub(e),s])}return t},[]);return t.forEach(e=>{e[0]()}),od.set(!0),()=>{t.forEach(e=>{e[1](),sZ(e[2])}),od.set(!1)}}),oy=iO("expand",()=>{to("web_app_expand")}),o_="web_app_request_fullscreen",ob=tT(ij,ol,o_),ov=iD("isFullscreen"),[og,om]=e7(),[ow,ok]=e7();function ox(e,t){return ob(e,nn(e=>ti(t?o_:"web_app_exit_fullscreen",[i$,"fullscreen_failed"],e).then(e=>{if("error"in e&&"ALREADY_FULLSCREEN"!==e.error)throw new tC(e.error);let t=!("is_fullscreen"in e)||e.is_fullscreen;t!==ov()&&iF({isFullscreen:t})}),"Fullscreen mode change is already being requested",{promise:og,error:ow})[0])}let oE=ox("requestFullscreen",!0),oA=Object.freeze(Object.defineProperty({__proto__:null,bindCssVars:oh,changeFullscreenError:ok,changeFullscreenPromise:om,contentSafeAreaInsetBottom:iH,contentSafeAreaInsetLeft:iJ,contentSafeAreaInsetRight:iK,contentSafeAreaInsetTop:iZ,contentSafeAreaInsets:iG,exitFullscreen:ox("exitFullscreen"),expand:oy,height:iV,isCssVarsBound:of,isExpanded:iW,isFullscreen:ov,isMounted:oc,isMounting:oo,isStable:iU,mount:oa,mountError:ou,mountPromise:oi,requestFullscreen:oE,safeAreaInsetBottom:iX,safeAreaInsetLeft:i0,safeAreaInsetRight:i1,safeAreaInsetTop:i2,safeAreaInsets:iQ,stableHeight:iM,state:iR,unmount:function(){nu(oi),ew(iI,i4),ew(i$,i9),ew(iq,i8),ew(iP,oe),ol.set(!1)},width:iN},Symbol.toStringTag,{value:"Module"})),[oS,oC,oj]=nn(e=>ti("web_app_request_emoji_status_access","emoji_status_access_requested",e).then(e=>e.status),"Emoji status access request is already in progress"),[,o$,oq]=oC,[,oP]=oj,[oI,oO,oT]=nn((e,t)=>ti("web_app_set_emoji_status",["emoji_status_set","emoji_status_failed"],{params:{custom_emoji_id:e,duration:(t||{}).duration},...t}).then(e=>{if(e&&"error"in e)throw new tx(e.error)}),"Emoji status set request is currently in progress"),[,oL,oB]=oO,[,oR]=oT,[oD,oV,oM]=nn(e=>ti("web_app_check_home_screen","home_screen_checked",e).then(e=>e.status||"unknown"),"Check home screen status request is currently in progress"),[,oN,oW]=oV,[,oU]=oM,oF=(tO()("openLink",(e,t)=>{if("string"==typeof e)try{e=new URL(e)}catch(t){throw new tg(`"${e.toString()}" is invalid URL`,t)}t||(t={}),to("web_app_open_link",{url:e.toString(),try_browser:t.tryBrowser,try_instant_view:t.tryInstantView})}),"web_app_open_tg_link"),oz=tO()("openTelegramLink",e=>{let t=e.toString();if(!t.match(/^https:\/\/t.me\/.+/))throw new tg(`"${t}" is invalid URL`);if(!eK(oF,ts())){window.location.href=t;return}to(oF,{path_full:(e=new URL(e)).pathname+e.search})});tO()("shareURL",(e,t)=>{oz("https://t.me/share/url?"+new URLSearchParams({url:e,text:t||""}).toString().replace(/\+/g,"%20"))});let oG="web_app_request_phone",[oH,oJ,oK]=nn(e=>ti(oG,"phone_requested",e).then(e=>e.status),"Phone access request is currently in progress"),oZ=tI("requestPhoneAccess",oH,{isSupported:oG}),[,oY,oQ]=oJ,[,oX]=oK;async function o0(e){let t=await ta("getRequestedContact",{},{...e,timeout:(e||{}).timeout||5e3});return n2(n6(function e(t,n){return{kind:"schema",type:"union",reference:e,expects:function(e,t){let n=[...new Set(e)];return n.length>1?`(${n.join(" | ")})`:n[0]??"never"}(t.map(e=>e.expects),0),async:!1,options:t,message:n,get"~standard"(){return nK(this)},"~run"(e,t){let n,r,s;for(let a of this.options){let i=a["~run"]({value:e.value},t);if(i.typed){if(i.issues)r?r.push(i):r=[i];else{n=i;break}}else s?s.push(i):s=[i]}if(n)return n;if(r){if(1===r.length)return r[0];nJ(this,"type",e,t,{issues:n1(r)}),e.typed=!0}else{if((null==s?void 0:s.length)===1)return s[0];nJ(this,"type",e,t,{issues:n1(s)})}return e}}}([n0(),function e(t,n){return{kind:"schema",type:"instance",reference:e,expects:t.name,async:!1,class:t,message:n,get"~standard"(){return nK(this)},"~run"(e,t){return e.value instanceof this.class?e.typed=!0:nJ(this,"type",e,t),e}}}(URLSearchParams)]),ss(nX({contact:n6(n0(),sn(),nX({user_id:function e(t){return{kind:"schema",type:"number",reference:e,expects:"number",async:!1,message:t,get"~standard"(){return nK(this)},"~run"(e,t){return"number"!=typeof e.value||isNaN(e.value)?nJ(this,"type",e,t):e.typed=!0,e}}}(),phone_number:n0(),first_name:n0(),last_name:function e(t,n){return{kind:"schema",type:"optional",reference:e,expects:`(${t.expects} | undefined)`,async:!1,wrapped:t,default:n,get"~standard"(){return nK(this)},"~run"(e,t){return void 0===e.value&&(void 0!==this.default&&(e.value=nQ(this,e,t)),void 0===e.value)?(e.typed=!0,e):this.wrapped["~run"](e,t)}}}(n0())})),auth_date:n6(n0(),function e(t){return{kind:"transformation",type:"transform",reference:e,async:!1,operation:t,"~run"(e){return e.value=this.operation(e.value),e}}}(e=>new Date(1e3*Number(e))),function e(t){return{kind:"schema",type:"date",reference:e,expects:"Date",async:!1,message:t,get"~standard"(){return nK(this)},"~run"(e,t){return e.value instanceof Date?isNaN(e.value)?nJ(this,"type",e,t,{received:'"Invalid Date"'}):e.typed=!0:nJ(this,"type",e,t),e}}}()),hash:n0()}))),t)}let[o1,o2,o6]=nn(e=>new t8(async(e,t,n)=>{try{return e(await o0(n))}catch(e){if(e instanceof nY)throw e}if(await oZ(n)!=="sent")throw new tA("User denied access");let r=50;for(;!n.isAborted();){try{return e(await o0(n))}catch(e){if(e instanceof nY)throw e}await new t8({abortSignal:void 0,timeout:r}).catch(()=>{}),r+=50}},e),"Contact is already being requested"),[,o3,o5]=o2,[,o7]=o6,[o4,o9,o8]=nn(e=>ti("web_app_request_write_access","write_access_requested",e).then(e=>e.status),"Write access request is currently in progress"),[,ue,ut]=o9,[,un]=o8;function ur(e){!function(e){e||(e={});let{postEvent:t}=e,n=e.launchParams||eF();tn.set(n),tt.set("function"==typeof t?t:function(e,t){t||(t="strict");let n="function"==typeof t?t:e=>{let{method:n,version:r}=e,s="param"in e?new eC(n,e.param,r):new eA(n,r);if("strict"===t)throw s;return console.warn(s.message)};return(t,r)=>eK(t,e)?"web_app_set_header_color"===t&&c(f({color:function e(){return{kind:"schema",type:"any",reference:e,expects:"any",async:!1,get"~standard"(){return i(this)},"~run":e=>(e.typed=!0,e)}}()}),r)&&!eK(t,"color",e)?n({version:e,method:t,param:"color"}):eV(t,r):n({version:e,method:t})}(n.tgWebAppVersion)),e9(!1,"The package was configured. Launch params:",tn())}(e);let[t,n]=e0(em("reload_iframe",()=>{e9(!1,"Received a request to reload the page"),to("iframe_will_reload"),window.location.reload()})),{acceptCustomStyles:r=!0}=e||{};if(r){let e=document.createElement("style");e.id="telegram-custom-styles",document.head.appendChild(e),t(em("set_custom_style",t=>{e.innerHTML=t}),()=>{document.head.removeChild(e)})}return to("iframe_ready",{reload_supported:!0}),e9(!1,"The package was initialized"),n}},26:function(e,t,n){n.d(t,{Z:()=>r});let r=function(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=function e(t){var n,r,s="";if("string"==typeof t||"number"==typeof t)s+=t;else if("object"==typeof t){if(Array.isArray(t)){var a=t.length;for(n=0;n<a;n++)t[n]&&(r=e(t[n]))&&(s&&(s+=" "),s+=r)}else for(r in t)t[r]&&(s&&(s+=" "),s+=r)}return s}(e))&&(r&&(r+=" "),r+=t);return r}}}]);